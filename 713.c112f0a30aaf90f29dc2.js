"use strict";(self.webpackChunktnm_front_admin=self.webpackChunktnm_front_admin||[]).push([[713],{713:(e,t,r)=>{r.r(t),r.d(t,{default:()=>v});var a=r(1027),l=r(2132),s=r(5788),n=r(3269),o=r(9492),m=r(4205),c=r(2634),d=r(5465),p=r(1819),b=r(5619),i=r(7439),x=Object.defineProperty,u=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,f=(e,t,r)=>t in e?x(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,N=(e,t)=>{for(var r in t||(t={}))E.call(t,r)&&f(e,r,t[r]);if(u)for(var r of u(t))g.call(t,r)&&f(e,r,t[r]);return e},h=(e,t,r)=>new Promise(((a,l)=>{var s=e=>{try{o(r.next(e))}catch(e){l(e)}},n=e=>{try{o(r.throw(e))}catch(e){l(e)}},o=e=>e.done?a(e.value):Promise.resolve(e.value).then(s,n);o((r=r.apply(e,t)).next())}));function v({use:e=["\uc0ac\uc6a9","\ubbf8\uc0ac\uc6a9"]}){const[t,r]=(0,a.useState)(e?e[0]:""),[x,u]=(0,a.useState)(""),[E,g]=(0,a.useState)(null),[f,v]=(0,a.useState)(!1),w=(0,l.Zp)(),{data:y}=(0,p.or)(),{register:A,getValues:P,watch:S,formState:{errors:C,isSubmitting:k,isValid:z},handleSubmit:I}=(0,s.mN)({mode:"onChange",shouldFocusError:!1,defaultValues:{mbrsId:"",mbrsName:"",mbrsPwd:"",mbrsPwdRe:"",mailAddr:"",mblNo:"",dprtNm:"",pstnNm:"",useYn:"Y"}}),O=S("mbrsId");(0,a.useEffect)((()=>{y&&g(null==y?void 0:y.result.authorityList[0].athtSno)}),[y]);const R=()=>h(this,null,(function*(){try{const e=yield b.A.post("/adm/auth/member/duplicate-id",{id:O}),t=e.data.code;if(200===e.status){if("200100"===t&&(toast.success("\uc0ac\uc6a9 \uac00\ub2a5\ud55c \uc544\uc774\ub514\uc785\ub2c8\ub2e4"),v(!0)),"200101"===t)throw toast.alert("\uc911\ubcf5\ub41c \uc544\uc774\ub514\uc785\ub2c8\ub2e4"),new Error("Duplicate ID");if("200200"===t)throw toast.alert("\uc0ac\uc6a9\ud560 \uc218 \uc5c6\ub294 \uc544\uc774\ub514\uc785\ub2c8\ub2e4"),new Error("Invalid ID")}}catch(e){throw"400001"===e.response.data.code&&toast.alert("8~14\uc790 \uc601\ubb38 \uc18c\ubb38\uc790, \uc22b\uc790\ub97c \uc870\ud569\ud574\uc11c \uc785\ub825\ud574 \uc8fc\uc138\uc694"),e}}));return a.createElement(a.Fragment,null,a.createElement("h2",{className:"mb-[16px] text-headline3 font-Tmoney"},"\uad00\ub9ac\uc790\uad00\ub9ac > \uc0ac\uc6a9\uc790 \uad00\ub9ac > \ub4f1\ub85d\ud558\uae30"),a.createElement("div",{className:"w-[952px]"},a.createElement("form",{onSubmit:I((e=>h(this,null,(function*(){try{if(!f)return void toast.alert("\uc544\uc774\ub514 \uc911\ubcf5\uccb4\ud06c\ub97c \uc644\ub8cc\ud574 \uc8fc\uc138\uc694");if(!i.at.test(x))return void toast.alert("\uc774\uba54\uc77c \ud615\uc2dd\uc744 \ud655\uc778\ud574\uc8fc\uc138\uc694");if(!i.WJ.test(P("mblNo")))return void toast.alert("\ud734\ub300\ud3f0\ubc88\ud638\ub97c \ud655\uc778\ud574\uc8fc\uc138\uc694");if(i.s6.test(P("mbrsPwd")))return void toast.alert("4\uc790\ub9ac \uc774\uc0c1 \uc5f0\uc18d\ub418\ub294 \ubb38\uc790\uc640 \uc22b\uc790\ub294 \ube44\ubc00\ubc88\ud638\ub85c \uc0ac\uc6a9\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. ex) aaaa, abcd, 1111, 1234");if(!i.kW.test(P("mbrsPwd")))return void toast.alert("\ube44\ubc00\ubc88\ud638\ub294 10\uc790 \uc774\uc0c1 \uc601\ubb38\uc790, \uc22b\uc790, \ud2b9\uc218\ubb38\uc790\ub97c \uc870\ud569\ud574\uc57c \ud569\ub2c8\ub2e4");if(P("mbrsPwd")!==P("mbrsPwdRe"))return void toast.alert("\ube44\ubc00\ubc88\ud638\ub97c \ub3d9\uc77c\ud558\uac8c \uc785\ub825\ud574 \uc8fc\uc138\uc694");e.mailAddr=x,e.athtSno=E,e.useYn="\uc0ac\uc6a9"===t?"Y":"N",b.A.post("/adm/manager",e).then((e=>{200===e.status&&(w("/manager/user"),toast.success("\uc0c8\ub85c\uc6b4 \uc0ac\uc6a9\uc790\uac00 \ub4f1\ub85d\ub418\uc5c8\uc2b5\ub2c8\ub2e4"))})).catch((function(e){console.log(e)}))}catch(e){console.error("Submit Error:",e)}}))))},a.createElement("div",{className:"overflow-hidden mb-[16px] border border-tg-100 rounded-[10px]"},a.createElement("table",{className:"border-collapse border-hidden table-fixed"},a.createElement("colgroup",null,a.createElement("col",{width:"195"}),a.createElement("col",{width:"757"})),a.createElement("tbody",null,a.createElement("tr",null,a.createElement("th",{className:"px-[24px] pt-[9px] pb-[7px] border-b border-r border-tg-100 bg-tg-10 text-20 font-bold text-left"},"\uc544\uc774\ub514*"),a.createElement("td",{className:"px-[12px] border-b border-tg-100"},a.createElement("div",{className:"flex items-center gap-[10px]"},a.createElement("div",{className:"w-[285px]"},a.createElement(o.A,N({type:"text",size:"sm",isError:C.mbrsId},A("mbrsId",{required:!0,minLength:{value:8,message:"6~20\uc790 \uc601\ubb38 \uc18c\ubb38\uc790, \uc22b\uc790\ub97c \uc785\ub825\ud574 \uc8fc\uc138\uc694"}})))),a.createElement(n.A,{size:"md",color:"secondary",type:"button",onClick:()=>{i.TO.test(O)?""!==O&&R():toast.alert("8~14\uc790\uc758 \ubb38\uc790\uc640 \uc22b\uc790\ub9cc \uc785\ub825\ud574 \uc8fc\uc138\uc694")}},"\uc544\uc774\ub514 \uc911\ubcf5\uccb4\ud06c"),a.createElement("span",{className:"text-caption"},"8~14\uc790 \uc601\ubb38 \uc18c\ubb38\uc790, \uc22b\uc790 \uc785\ub825\uac00\ub2a5")))),a.createElement("tr",null,a.createElement("th",{className:"px-[24px] pt-[9px] pb-[7px] border-b border-r border-tg-100 bg-tg-10 text-20 font-bold text-left"},"\uad00\ub9ac\uc790\uba85*"),a.createElement("td",{className:"px-[12px] border-b border-tg-100"},a.createElement("div",{className:"w-[285px]"},a.createElement(o.A,N({type:"text",size:"sm",isError:C.mbrsName},A("mbrsName",{required:!0})))))),a.createElement("tr",null,a.createElement("th",{className:"px-[24px] pt-[9px] pb-[7px] border-b border-r border-tg-100 bg-tg-10 text-20 font-bold text-left"},"\ube44\ubc00\ubc88\ud638*"),a.createElement("td",{className:"px-[12px] border-b border-tg-100"},a.createElement("div",{className:"flex items-center gap-[10px]"},a.createElement("div",{className:"w-[285px]"},a.createElement(o.A,N({type:"password",size:"sm",isError:C.mbrsPwd},A("mbrsPwd",{required:!0,minLength:{value:8,message:"8~16\uc790 \uc601\ubb38 \ub300\uc18c\ubb38\uc790, \uc22b\uc790\ub97c \uc0ac\uc6a9\ud558\uc138\uc694"}})))),a.createElement("span",{className:"text-caption"},"10~20\uc790 \uc601\ubb38 \ub300\uc18c\ubb38\uc790, \uc22b\uc790\ub97c \uc0ac\uc6a9\ud558\uc138\uc694")))),a.createElement("tr",null,a.createElement("th",{className:"px-[24px] pt-[9px] pb-[7px] border-b border-r border-tg-100 bg-tg-10 text-20 font-bold text-left"},"\ube44\ubc00\ubc88\ud638 \uc7ac\uc785\ub825*"),a.createElement("td",{className:"px-[12px] border-b border-tg-100"},a.createElement("div",{className:"w-[285px]"},a.createElement(o.A,N({type:"password",size:"sm",isError:C.mbrsPwdRe},A("mbrsPwdRe",{required:!0})))))),a.createElement("tr",null,a.createElement("th",{className:"px-[24px] pt-[9px] pb-[7px] border-b border-r border-tg-100 bg-tg-10 text-20 font-bold text-left"},"\uc774\uba54\uc77c*"),a.createElement("td",{className:"px-[12px] border-b border-tg-100"},a.createElement("div",{className:"w-[440px]"},a.createElement(m.A,{onChange:e=>u(e)})))),a.createElement("tr",null,a.createElement("th",{className:"px-[24px] pt-[9px] pb-[7px] border-b border-r border-tg-100 bg-tg-10 text-20 font-bold text-left"},"\ud734\ub300\ud3f0\ubc88\ud638*"),a.createElement("td",{className:"px-[12px] border-b border-tg-100"},a.createElement("div",{className:"flex items-center gap-[10px]"},a.createElement("div",{className:"w-[285px]"},a.createElement(o.A,N({type:"text",size:"sm",isError:C.mblNo},A("mblNo",{required:!0,minLength:{value:11,message:"\uc22b\uc790 11\uc790\ub9ac\ub97c \uc785\ub825\ud574 \uc8fc\uc138\uc694"}})))),a.createElement("span",{className:"text-caption"},"\uc22b\uc790 11\uc790\ub9ac\ub9cc \uc785\ub825 \uac00\ub2a5")))),a.createElement("tr",null,a.createElement("th",{className:"px-[24px] pt-[9px] pb-[7px] border-b border-r border-tg-100 bg-tg-10 text-20 font-bold text-left"},"\ubd80\uc11c"),a.createElement("td",{className:"px-[12px] border-b border-tg-100"},a.createElement("div",{className:"w-[285px]"},a.createElement(o.A,N({type:"text",size:"sm"},A("dprtNm")))))),a.createElement("tr",null,a.createElement("th",{className:"px-[24px] pt-[9px] pb-[7px] border-b border-r border-tg-100 bg-tg-10 text-20 font-bold text-left"},"\uc9c1\uae09"),a.createElement("td",{className:"px-[12px] border-b border-tg-100"},a.createElement("div",{className:"w-[285px]"},a.createElement(o.A,N({type:"text",size:"sm"},A("pstnNm")))))),a.createElement("tr",null,a.createElement("th",{className:"px-[24px] pt-[9px] pb-[7px] border-b border-r border-tg-100 bg-tg-10 text-20 font-bold text-left"},"\uc0ac\uc6a9\uc5ec\ubd80*"),a.createElement("td",{className:"px-[12px] border-b border-tg-100"},a.createElement("div",{className:"flex gap-[30px]"},e.map((e=>a.createElement(c.A,{key:`use-${e}`,id:e,name:"use",label:e,current:t,onChange:e=>r(e.target.id)})))))),a.createElement("tr",null,a.createElement("th",{className:"px-[24px] pt-[9px] pb-[7px] border-b border-r border-tg-100 bg-tg-10 text-20 font-bold text-left"},"\uad8c\ud55c\uad6c\ubd84"),a.createElement("td",{className:"px-[12px] border-b border-tg-100"},a.createElement("div",{className:"flex items-center gap-[10px]"},a.createElement("div",{className:"w-[220px]"},!y&&a.createElement(d.A,{options:[{accessor:"",value:"\uc120\ud0dd\ud574 \uc8fc\uc138\uc694"}],isReverse:!0,onChange:e=>console.log(e)}),y&&a.createElement(d.A,{options:null==y?void 0:y.result.authorityList.map((e=>({accessor:e.athtSno.toString(),value:e.athtNm}))),isReverse:!0,onChange:e=>g(e)})),a.createElement("span",{className:"text-caption"},"\ubd80\uc5ec\ud560 \uad8c\ud55c\uc744 \uc120\ud0dd\ud574 \uc8fc\uc138\uc694"))))))),a.createElement("div",{className:"flex justify-between"},a.createElement(n.A,{color:"secondary",onClick:()=>w("/manager/user")},"\ucde8\uc18c"),k||z?a.createElement(n.A,{type:"submit"},"\ub4f1\ub85d"):a.createElement(n.A,{type:"button",color:"secondary"},"\ub4f1\ub85d")))))}}}]);