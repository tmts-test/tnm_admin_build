"use strict";(self.webpackChunktnm_front_admin=self.webpackChunktnm_front_admin||[]).push([[8650],{8650:(e,t,a)=>{a.r(t),a.d(t,{default:()=>C});var l=a(525),n=a(6038),r=a(8557),s=a(5788),c=a(2188),o=a(6071),p=a(4378),m=a(3904),i=a(225),u=a(7636),d=a(4279);const b=function({bltnStaCd:e,bltnSttDtm:t,setBltnStaCd:a,onChange:n}){let r=`${t.substring(0,4)}-${t.substring(4,6)}-${t.substring(6,8)}`,s=`${t.substring(8,10)}:${t.substring(10,12)}`;const[c,o]=(0,l.useState)(""),[p,m]=(0,l.useState)("");return(0,l.useEffect)((()=>{""!==c&&""!==s&&n(`${c} ${t.substring(8,10)}:${t.substring(10,12)}`),""!==r&&""!==p&&n(`${t.substring(0,4)}-${t.substring(4,6)}-${t.substring(6,8)} ${p}`),""!==c&&""!==p&&n(`${c} ${p}`)}),[c,p]),l.createElement("div",{className:"w-[372px] px-[24px] py-[20px] border border-tg-80 rounded-[6px] shadow-sm"},l.createElement("h4",{className:"text-body2 font-700 mb-[10px]"},"\ubb38\uc11c\uc815\ubcf4"),l.createElement("div",{className:"mb-[15px]"},l.createElement("label",{htmlFor:"state",className:"flex text-body4 font-70 pb-[3px]"},"\uc0c1\ud0dc"),"Y"===e&&l.createElement(d.A,{options:[{accessor:"Y",value:"\uacf5\uac1c"},{accessor:"R",value:"\uc608\uc57d\uacf5\uac1c"},{accessor:"N",value:"\ube44\uacf5\uac1c"}],onChange:e=>a(e)}),"N"===e&&l.createElement(d.A,{options:[{accessor:"N",value:"\ube44\uacf5\uac1c"},{accessor:"Y",value:"\uacf5\uac1c"},{accessor:"R",value:"\uc608\uc57d\uacf5\uac1c"}],onChange:e=>a(e)}),"R"===e&&l.createElement(d.A,{options:[{accessor:"R",value:"\uc608\uc57d\uacf5\uac1c"},{accessor:"Y",value:"\uacf5\uac1c"},{accessor:"N",value:"\ube44\uacf5\uac1c"}],onChange:e=>a(e)})),"R"===e&&l.createElement("div",{className:"flex gap-[15px] mb-[15px] w-full"},l.createElement(i.A,{isFull:!0,defaultValue:r,onChange:e=>o(e.target.value)}),l.createElement(u.A,{isFull:!0,defaultValue:s,onChange:e=>m(e.target.value)})))};var x=a(6869),g=a(7806),f=Object.defineProperty,h=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,w=(e,t,a)=>t in e?f(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,N=(e,t)=>{for(var a in t||(t={}))E.call(t,a)&&w(e,a,t[a]);if(h)for(var a of h(t))v.call(t,a)&&w(e,a,t[a]);return e},y=(e,t,a)=>new Promise(((l,n)=>{var r=e=>{try{c(a.next(e))}catch(e){n(e)}},s=e=>{try{c(a.throw(e))}catch(e){n(e)}},c=e=>e.done?l(e.value):Promise.resolve(e.value).then(r,s);c((a=a.apply(e,t)).next())}));function C({}){const{auth:e}=(0,r.A)(),t=(0,n.Zp)(),[a,i]=(0,l.useState)([]),[u,d]=(0,l.useState)(""),[f,h]=(0,l.useState)("Y"),[E,v]=(0,l.useState)(""),[w,C]=(0,l.useState)(!1),{register:S,watch:A,formState:{errors:$,isSubmitting:F,isValid:T},handleSubmit:k}=(0,s.mN)({mode:"onChange",defaultValues:{atchFileSnoList:null,newsClipTtlNm:"",newsClipCtt:""}}),D=A("newsClipTtlNm");(0,l.useEffect)((()=>{"Y"!==f&&"N"!==f||v(""),u&&D?"R"===f?(C(!1),16===E.length&&C(!0)):C(!0):C(!1)}),[u,D,E,f]);return l.createElement(l.Fragment,null,l.createElement("h2",{className:"mb-[16px] text-headline3 font-Tmoney"},"\ub274\uc2a4\ud074\ub9ac\ud551 > \ub4f1\ub85d\ud558\uae30"),l.createElement("div",null,l.createElement("form",{className:"flex items-start gap-[40px]",onSubmit:k((l=>y(this,null,(function*(){new Date>(0,g.Rm)(E)?toast.alert("\uc608\uc57d\uc2dc\uac04\uc740 \ud604\uc7ac\uc2dc\uac04 \ubcf4\ub2e4 \uc774\uc804\uc77c \uc218 \uc5c6\uc2b5\ub2c8\ub2e4"):(l.newsClipCtt=u,l.bltnSttDtm=E,l.bltnStaCd=f,l.bltnSttDtm=E,l.atchFileSnoList=a.map((e=>e.atchFileSno)),x.A.post("/adm/news-clipping",l,{headers:{Authorization:`Bearer ${e.accessToken}`,Accept:"application/json"}}).then((e=>{200===e.status&&(t("/cscenter/news-clipping"),toast.success("\uac8c\uc2dc\ubb3c\uc774 \ub4f1\ub85d\ub418\uc5c8\uc2b5\ub2c8\ub2e4"))})).catch((function(e){console.log(e)})))}))))},l.createElement("div",null,l.createElement("div",{className:"overflow-hidden mb-[16px] border border-tg-100 rounded-[10px]"},l.createElement("table",{className:"border-collapse border-hidden table-fixed"},l.createElement("colgroup",null,l.createElement("col",{width:"127"}),l.createElement("col",{width:"825"})),l.createElement("tbody",null,l.createElement("tr",null,l.createElement("th",{className:"px-[24px] pt-[9px] pb-[7px] border-b border-r border-tg-100 bg-tg-10 text-20 font-bold text-left whitespace-nowrap"},"\uc81c\ubaa9*"),l.createElement("td",{className:"pl-[10px] pr-[53px] border-b border-tg-100"},l.createElement(p.A,N({type:"text",size:"sm",placeholder:"\uc81c\ubaa9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694",isError:$.newsClipTtlNm},S("newsClipTtlNm",{required:!0}))))),l.createElement("tr",null,l.createElement("th",{className:"px-[24px] pt-[9px] pb-[7px] border-b border-r border-tg-100 bg-tg-10 text-20 font-bold text-left whitespace-nowrap"},"\ub0b4\uc6a9*"),l.createElement("td",{className:"py-[12px] pl-[10px] pr-[53px] border-b border-tg-100"},l.createElement(c.A,{setData:e=>d(e),isUploadImage:!0,onChange:e=>{i((t=>[...t,e]))}}))),l.createElement("tr",null,l.createElement("th",{className:"px-[24px] pt-[9px] pb-[7px] border-b border-r border-tg-100 bg-tg-10 text-20 font-bold text-left whitespace-nowrap"},"\ucca8\ubd80\ud30c\uc77c"),l.createElement("td",{className:"px-[12px] border-b border-tg-100"},l.createElement("div",{className:"flex gap-[8px] w-[400px] pt-[10px] relative"},l.createElement("input",{key:a.length,type:"file",multiple:!0,className:"absolute top-0 left-0 w-full h-full opacity-0 cursor-pointer",onChange:e=>y(this,null,(function*(){const t=e.target.files;if(t){const a=new FormData;for(let e=0;e<t.length;e++)a.append("attach",t[e]);x.A.post("/adm/news-clipping/file/upload",a,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{i((t=>e.data?[...t,...e.data.result.saveFileList]:void toast.alert("\ud30c\uc77c \uc5c5\ub85c\ub4dc\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")))})).catch((function(e){console.log(e),toast.alert("\ud30c\uc77c \uc5c5\ub85c\ub4dc\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")})),e.target.value=""}}))}),l.createElement(p.A,{type:"text",size:"sm"}),l.createElement(o.A,{size:"md",color:"secondary"},"\ucc3e\uc544\ubcf4\uae30....")),a.length?l.createElement("div",{className:"py-[7px]"},null==a?void 0:a.map(((e,t)=>"ATTACH"===e.fileAcsTypCd&&l.createElement("div",{key:`file-${t}`,className:"flex items-center gap-[5px]"},l.createElement("span",{className:"text-caption"},e.orglFileNm),l.createElement("button",{type:"button",onClick:()=>(e=>{const t=a.filter((t=>!(t.atchFileSno===e.atchFileSno)));i(t)})(e)},l.createElement(m.A,{icon:"file_delete"})))))):l.createElement("div",{className:"flex items-center gap-[10px] py-[7px]"},l.createElement(m.A,{icon:"check"}),l.createElement("span",{className:"text-caption"},"\ud30c\uc77c\ucca8\ubd80\ub294 5MB, \ucd5c\ub300 10\uae4c\uc9c0 \uac00\ub2a5\ud569\ub2c8\ub2e4. \ud30c\uc77c 0\uac1c, 0KB/5MB"))))))),l.createElement("div",{className:"flex justify-between"},l.createElement(o.A,{color:"secondary"},"\ucde8\uc18c"),w?l.createElement(o.A,{type:"submit"},"\ub4f1\ub85d"):l.createElement(o.A,{type:"button",color:"secondary"},"\ub4f1\ub85d"))),l.createElement(b,{bltnStaCd:f,bltnSttDtm:E,setBltnStaCd:h,onChange:e=>v(e)}))))}}}]);