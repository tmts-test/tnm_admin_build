"use strict";(self.webpackChunktnm_front_admin=self.webpackChunktnm_front_admin||[]).push([[8840],{8840:(e,t,r)=>{r.r(t),r.d(t,{default:()=>v});var a=r(1027),l=r(2132),o=r(5788),c=r(5619),s=r(3269),m=r(9492),n=r(1857),d=r(6334),p=r(825),b=r(6736),i=r(7439),x=Object.defineProperty,u=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable,E=(e,t,r)=>t in e?x(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,h=(e,t)=>{for(var r in t||(t={}))f.call(t,r)&&E(e,r,t[r]);if(u)for(var r of u(t))N.call(t,r)&&E(e,r,t[r]);return e},g=(e,t,r)=>new Promise(((a,l)=>{var o=e=>{try{s(r.next(e))}catch(e){l(e)}},c=e=>{try{s(r.throw(e))}catch(e){l(e)}},s=e=>e.done?a(e.value):Promise.resolve(e.value).then(o,c);s((r=r.apply(e,t)).next())}));const v=function({}){const[e,t]=(0,a.useState)(!1),r=(0,l.Zp)(),x=(0,l.zy)(),u=x.pathname,[f,N]=(0,a.useState)(""),[E,v]=(0,a.useState)(""),[w,y]=(0,a.useState)(""),[C,k]=(0,a.useState)(""),[A,W]=(0,a.useState)(""),[S,z]=(0,a.useState)(!1),[Q,I]=(0,a.useState)(""),[P,B]=(0,a.useState)(!0),[D,R]=(0,a.useState)(!0),[$,q]=(0,a.useState)(!0),{register:O,watch:j,getValues:F,setValue:V,formState:{isSubmitting:_,errors:M,isValid:T},handleSubmit:L}=(0,o.mN)({mode:"onChange",defaultValues:{mbrsRoleCdCodeNm:"",mbrsName:"",cacmWrkrAreaCdCodeNm:"",vhclNo:"",brn:"",mblNo:"",cacmWrkrQfctNo:"",transpBizrId:"",memoCtt:"",mbrsPwd:""}}),Z=j("brn"),G=j("cacmWrkrQfctNo"),H=j("transpBizrId"),J=j("mbrsPwd"),K=j("vhclNo"),{data:U,refetch:X}=(0,p.eN)(Number(x.pathname.match(/\d+$/)));(0,a.useEffect)((()=>{var e;if(null==(e=null==U?void 0:U.result)?void 0:e.user){const{mbrsRoleCdCodeNm:e,mbrsName:t,cacmWrkrAreaCdCodeNm:r,vhclNo:a,brn:l,mblNo:o,cacmWrkrQfctNo:c,transpBizrId:s,memoCtt:m}=U.result.user;V("mbrsRoleCdCodeNm",e),V("mbrsName",t),V("cacmWrkrAreaCdCodeNm",r),V("vhclNo",a),V("brn",l),V("mblNo",o),V("cacmWrkrQfctNo",c),V("transpBizrId",s),V("memoCtt",m||""),N(t),v(a),y(l),k(c),W(m)}}),[U]),(0,a.useEffect)((()=>{X()}),[u]),(0,a.useEffect)((()=>{G!==C&&""!==C&&R(!1)}),[G]),(0,a.useEffect)((()=>{K!==E&&""!==E&&q(!1)}),[K]),(0,a.useEffect)((()=>{Z!==w&&""!==w&&B(!1)}),[Z]);const Y=e=>{const t=e.replace(/-/g,"").split("").map((e=>parseInt(e,10)));if(10!==t.length)return!1;const r=[1,3,7,1,3,7,1,3,5];let a=0;r.forEach(((e,r)=>{a+=e*t[r]})),a+=Math.floor(r[8]*t[8]/10);const l=(10-a%10)%10;return t[9]===l},ee=e=>g(this,null,(function*(){if("vhclNo"===e)try{const e=yield c.A.get(`/adm/private-taxi-driver/duplicate-vhcl-no?vhclNo=${F("vhclNo")}`),t=e.data.code;if(200===e.status){if("200100"===t){if(e.data.result.duplicateFlag)throw I("\ucc28\ub7c9\ubc88\ud638"),z(!0),new Error("Duplicate vhclNo");toast.success("\uc0ac\uc6a9 \uac00\ub2a5\ud55c \ucc28\ub7c9\ubc88\ud638\uc785\ub2c8\ub2e4"),q(!0)}if("200101"===t)throw I("\ucc28\ub7c9\ubc88\ud638"),z(!0),new Error("Duplicate vhclNo");if("200200"===t)throw toast.alert("\uc0ac\uc6a9\ud560 \uc218 \uc5c6\ub294 \ucc28\ub7c9\ubc88\ud638\uc785\ub2c8\ub2e4"),new Error("Invalid vhclNo")}}catch(e){throw"400001"===e.response.data.code&&toast.alert("\uc0ac\uc6a9\ud560 \uc218 \uc5c6\ub294 \ucc28\ub7c9\ubc88\ud638\uc785\ub2c8\ub2e4"),e}if("brn"===e)try{if(!Y(F("brn")))return void toast.alert("\uc0ac\uc5c5\uc790\ubc88\ud638\ub97c \ud655\uc778\ud574\uc8fc\uc138\uc694");const e=yield c.A.get(`/adm/private-taxi-driver/duplicate-brn?brn=${F("brn")}`),t=e.data.code;if(200===e.status){if("200100"===t){if(e.data.result.duplicateFlag)throw I("\uc0ac\uc5c5\uc790\ubc88\ud638"),z(!0),new Error("Duplicate BRN");toast.success("\uc0ac\uc6a9 \uac00\ub2a5\ud55c \uc0ac\uc5c5\uc790\ubc88\ud638\uc785\ub2c8\ub2e4"),B(!0)}if("200101"===t)throw I("\uc0ac\uc5c5\uc790\ubc88\ud638"),z(!0),new Error("Duplicate BRN");if("200200"===t)throw toast.alert("\uc0ac\uc6a9\ud560 \uc218 \uc5c6\ub294 \uc0ac\uc5c5\uc790\ubc88\ud638\uc785\ub2c8\ub2e4"),new Error("Invalid BRN")}}catch(e){throw"400001"===e.response.data.code&&toast.alert("\uc0ac\uc6a9\ud560 \uc218 \uc5c6\ub294 \uc0ac\uc5c5\uc790\ubc88\ud638\uc785\ub2c8\ub2e4"),e}if("cacmWrkrQfctNo"===e)try{const e=yield c.A.get(`/adm/private-taxi-driver/duplicate-cacm-wrkr-qfct-no?cacmWrkrQfctNo=${F("cacmWrkrQfctNo")}`),t=e.data.code;if(200===e.status){if("200100"===t){if(e.data.result.duplicateFlag)throw I("\uc6b4\uc804\uc790\uaca9\ubc88\ud638"),z(!0),new Error("Duplicate cacmWrkrQfctNo");toast.success("\uc0ac\uc6a9 \uac00\ub2a5\ud55c \uc6b4\uc804\uc790\uaca9\ubc88\ud638\uc785\ub2c8\ub2e4"),R(!0)}if("200101"===t)throw I("\uc6b4\uc804\uc790\uaca9\ubc88\ud638"),z(!0),new Error("Duplicate cacmWrkrQfctNo");if("200200"===t)throw toast.alert("\uc0ac\uc6a9\ud560 \uc218 \uc5c6\ub294 \uc6b4\uc804\uc790\uaca9\ubc88\ud638\uc785\ub2c8\ub2e4"),new Error("Invalid cacmWrkrQfctNo")}}catch(e){throw"400001"===e.response.data.code&&toast.alert("\uc0ac\uc6a9\ud560 \uc218 \uc5c6\ub294 \uc6b4\uc804\uc790\uaca9\ubc88\ud638\uc785\ub2c8\ub2e4"),e}}));return a.createElement(a.Fragment,null,a.createElement("h2",{className:"mb-[16px] text-headline3 font-Tmoney"},"\ud68c\uc6d0\uad00\ub9ac > \uac1c\uc778\ud0dd\uc2dc \ud68c\uc6d0 > ",e?"\uc218\uc815\ud558\uae30":"\uc0c1\uc138\ubcf4\uae30"),a.createElement("div",{className:"w-[952px]"},a.createElement("form",{onSubmit:L((e=>g(this,null,(function*(){try{if(J&&!i.Tp.test(J))return void toast.alert("\ube44\ubc00\ubc88\ud638\ub97c \ud655\uc778\ud574\uc8fc\uc138\uc694");if(!Y(F("brn")))return void toast.alert("\uc0ac\uc5c5\uc790\ubc88\ud638\ub97c \ud655\uc778\ud574\uc8fc\uc138\uc694");if(K&&!$)return void toast.alert("\ucc28\ub7c9\ubc88\ud638 \uc911\ubcf5\uccb4\ud06c\ub97c \uc644\ub8cc\ud574 \uc8fc\uc138\uc694");if(Z&&!P)return void toast.alert("\uc0ac\uc5c5\uc790\ubc88\ud638 \uc911\ubcf5\uccb4\ud06c\ub97c \uc644\ub8cc\ud574 \uc8fc\uc138\uc694");if(G&&!D)return void toast.alert("\uc6b4\uc804\uc790\uaca9\ubc88\ud638 \uc911\ubcf5\uccb4\ud06c\ub97c \uc644\ub8cc\ud574 \uc8fc\uc138\uc694");e.mbrsSno=Number(x.pathname.match(/\d+$/)),""===e.mbrsPwd&&delete e.mbrsPwd,delete e.mbrsRoleCdCodeNm,delete e.cacmWrkrAreaCdCodeNm,delete e.mblNo,delete e.transpBizrId,c.A.put(`/adm/private-taxi-driver/${x.pathname.match(/\d+$/)}`,e).then((e=>{200===e.status&&r("/member/personal")})).catch((function(e){console.log(e)}))}catch(e){console.log(e)}}))))},a.createElement("div",{className:"overflow-hidden mb-[16px] border border-tg-100 rounded-[10px]"},a.createElement("table",{className:"border-collapse border-hidden table-fixed"},a.createElement("colgroup",null,a.createElement("col",{width:"177"}),a.createElement("col",{width:"775"})),a.createElement("tbody",null,a.createElement("tr",null,a.createElement("th",{className:"px-[24px] pt-[9px] pb-[7px] border-b border-r border-tg-100 bg-tg-10 text-20 font-bold text-left"},"\uad6c\ubd84"),a.createElement("td",{className:"px-[12px] border-b border-tg-100"},"\uac1c\uc778")),a.createElement("tr",null,a.createElement("th",{className:"px-[24px] pt-[9px] pb-[7px] border-b border-r border-tg-100 bg-tg-10 text-20 font-bold text-left"},"\uae30\uc0ac\uba85",e&&"*"),a.createElement("td",{className:"px-[12px] border-b border-tg-100"},e?a.createElement("div",{className:"w-[446px]"},a.createElement(m.A,h({type:"text",size:"sm",isError:M.mbrsName},O("mbrsName",{required:!0})))):F("mbrsName"))),a.createElement("tr",null,a.createElement("th",{className:"px-[24px] pt-[9px] pb-[7px] border-b border-r border-tg-100 bg-tg-10 text-20 font-bold text-left"},"\uc9c0\uc5ed"),a.createElement("td",{className:"px-[12px] border-b border-tg-100"},e?a.createElement("div",{className:"w-[446px]"},a.createElement(m.A,h({type:"text",size:"sm",disabled:!0,isError:M.cacmWrkrAreaCdCodeNm},O("cacmWrkrAreaCdCodeNm")))):F("cacmWrkrAreaCdCodeNm"))),a.createElement("tr",null,a.createElement("th",{className:"px-[24px] pt-[9px] pb-[7px] border-b border-r border-tg-100 bg-tg-10 text-20 font-bold text-left"},"\ucc28\ub7c9\ubc88\ud638",e&&"*"),a.createElement("td",{className:"px-[12px] border-b border-tg-100"},e?a.createElement("div",{className:"flex items-center gap-[10px]"},a.createElement("div",{className:"w-[446px]"},a.createElement(m.A,h({type:"text",size:"sm",isError:M.vhclNo},O("vhclNo",{required:!0})))),K&&a.createElement(s.A,{type:"button",color:"secondary",onClick:()=>ee("vhclNo")},"\uc911\ubcf5\uccb4\ud06c")):F("vhclNo"))),a.createElement("tr",null,a.createElement("th",{className:"px-[24px] pt-[9px] pb-[7px] border-b border-r border-tg-100 bg-tg-10 text-20 font-bold text-left"},"\uc0ac\uc5c5\uc790\ubc88\ud638",e&&"*"),a.createElement("td",{className:"px-[12px] border-b border-tg-100"},e?a.createElement("div",{className:"flex items-center gap-[10px]"},a.createElement("div",{className:"w-[446px]"},a.createElement(m.A,h({type:"text",size:"sm",placeholder:"- \uc5c6\uc774 \uc785\ub825\ud574\uc8fc\uc138\uc694",isError:M.brn},O("brn",{required:!0})))),Z&&a.createElement(s.A,{type:"button",color:"secondary",onClick:()=>ee("brn")},"\uc911\ubcf5\uccb4\ud06c")):F("brn"))),a.createElement("tr",null,a.createElement("th",{className:"px-[24px] pt-[9px] pb-[7px] border-b border-r border-tg-100 bg-tg-10 text-20 font-bold text-left"},"\ud734\ub300\ud3f0\ubc88\ud638"),a.createElement("td",{className:"px-[12px] border-b border-tg-100"},e?a.createElement("div",{className:"w-[446px]"},a.createElement(m.A,h({type:"text",size:"sm",disabled:!0,placeholder:"ex) 0220885000",isError:M.mblNo},O("mblNo",{required:!0})))):F("mblNo"))),a.createElement("tr",null,a.createElement("th",{className:"px-[24px] pt-[9px] pb-[7px] border-b border-r border-tg-100 bg-tg-10 text-20 font-bold text-left"},"\uc6b4\uc804\uc790\uaca9\ubc88\ud638",e&&"*"),a.createElement("td",{className:"px-[12px] border-b border-tg-100"},e?a.createElement("div",{className:"flex items-center gap-[10px]"},a.createElement("div",{className:"w-[446px]"},a.createElement(m.A,h({type:"text",size:"sm",placeholder:"ex) 0220885000",isError:M.cacmWrkrQfctNo},O("cacmWrkrQfctNo",{required:!0})))),G&&a.createElement(s.A,{type:"button",color:"secondary",onClick:()=>ee("cacmWrkrQfctNo")},"\uc911\ubcf5\uccb4\ud06c")):F("cacmWrkrQfctNo"))),a.createElement("tr",null,a.createElement("th",{className:"px-[24px] pt-[9px] pb-[7px] border-b border-r border-tg-100 bg-tg-10 text-20 font-bold text-left"},"\uad50\ud1b5\uc0ac\uc5c5\uc790ID"),a.createElement("td",{className:"px-[12px] border-b border-tg-100"},e?a.createElement("div",{className:"flex items-center gap-[10px]"},a.createElement("div",{className:"w-[446px]"},a.createElement(m.A,{type:"text",size:"sm",disabled:!0})),H&&a.createElement(s.A,{type:"button",color:"secondary",onClick:()=>ee("transpBizrId")},"\uc911\ubcf5\uccb4\ud06c")):F("transpBizrId"))),a.createElement("tr",null,a.createElement("th",{className:"px-[24px] pt-[9px] pb-[7px] border-b border-r border-tg-100 bg-tg-10 text-20 font-bold text-left"},"\ube44\ubc00\ubc88\ud638"),a.createElement("td",{className:"px-[12px] border-b border-tg-100"},e?a.createElement("div",{className:"w-[446px]"},a.createElement(m.A,h({type:"password",size:"sm",placeholder:"\ube44\ubc00\ubc88\ud638 \uc7ac\uc124\uc815(8\uc790\ub9ac \uc774\uc0c1, \uc22b\uc790 \ud3ec\ud568)",isError:M.mbrsPwd},O("mbrsPwd")))):(0,b.yE)("abcd1234!"))),a.createElement("tr",null,a.createElement("th",{className:"px-[16px] pt-[9px] pb-[7px] border-b border-r border-tg-100 bg-tg-10 text-20 font-bold text-left"},"\uba54\ubaa8"),a.createElement("td",{className:"px-[12px] py-[9px] border-b border-tg-100"},a.createElement("div",{className:"flex w-[446px]"},e?a.createElement(n.A,h({size:"sm",placeholder:"300\uc790 \uc774\ub0b4 \uba54\ubaa8 \uc785\ub825(\uad8c\uc7a5)",maxLength:1500},O("memoCtt"))):a.createElement("div",{className:"w-full h-[124px] py-[5px] px-[10px] rounded-[4px] border border-tg-80 text-sm leading-5 overflow-auto"},F("memoCtt")))))))),a.createElement("div",{className:"flex justify-between"},e?a.createElement(s.A,{type:"button",color:"secondary",onClick:()=>{t(!e),V("mbrsName",f),V("vhclNo",E),V("brn",w),V("cacmWrkrQfctNo",C),V("mbrsPwd",""),V("memoCtt",A)}},"\ucde8\uc18c"):a.createElement(s.A,{type:"button",color:"secondary",onClick:()=>r("/member/personal")},"\ubaa9\ub85d"),e?a.createElement(a.Fragment,null,_||T?a.createElement(s.A,{type:"submit"},"\uc800\uc7a5"):a.createElement(s.A,{type:"button",color:"secondary",disabled:!0},"\uc800\uc7a5")):a.createElement(s.A,{type:"button",onClick:()=>t(!0)},"\uc218\uc815")))),a.createElement(d.A,{name:Q,isShow:S,setIsShowModal:z}))}}}]);