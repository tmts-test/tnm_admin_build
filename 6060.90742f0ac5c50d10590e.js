"use strict";(self.webpackChunktnm_front_admin=self.webpackChunktnm_front_admin||[]).push([[6060],{6060:(e,t,a)=>{a.r(t),a.d(t,{default:()=>V});var l=a(1027),r=a(2132),c=a(5788),s=a(3269),d=a(9492),n=a(1857),m=a(2634),o=a(6438);const p=function({data:e={pushInfTypCd:[{cdVal:"INFO",cdNm:"\uc815\ubcf4\uc131"},{cdVal:"MARKETING",cdNm:"\uad11\uace0\uc131"}],mblOsCdDtaVal:[{cdVal:"AOS",cdNm:"\uc548\ub4dc\ub85c\uc774\ub4dc"},{cdVal:"IOS",cdNm:"\uc544\uc774\ud3f0"}],dsptTgtMbrsDvsCdDtaVal:[{cdVal:"PRIVATE_TAXI_DRIVER",cdNm:"\uac1c\uc778\uae30\uc0ac"},{cdVal:"CORP_TAXI_DRIVER",cdNm:"\ubc95\uc778\uae30\uc0ac"},{cdVal:"CORP_OWNER",cdNm:"\ubc95\uc778\uc0ac\uc5c5\uc8fc"}],dsptTgtCacmWrkrAreaCdDtaVal:[{cdVal:"01",cdNm:"\uc11c\uc6b8"},{cdVal:"02",cdNm:"\ubd80\uc0b0"},{cdVal:"03",cdNm:"\ub300\uad6c"},{cdVal:"04",cdNm:"\uc778\ucc9c"},{cdVal:"05",cdNm:"\uad11\uc8fc"},{cdVal:"06",cdNm:"\ub300\uc804"},{cdVal:"07",cdNm:"\uacbd\uae30"},{cdVal:"08",cdNm:"\uac15\uc6d0"},{cdVal:"09",cdNm:"\ucda9\ubd81"},{cdVal:"10",cdNm:"\ucda9\ub0a8"},{cdVal:"11",cdNm:"\uc804\ubd81"},{cdVal:"12",cdNm:"\uc804\ub0a8"},{cdVal:"13",cdNm:"\uacbd\ubd81"},{cdVal:"14",cdNm:"\uacbd\ub0a8"},{cdVal:"15",cdNm:"\uc81c\uc8fc"},{cdVal:"16",cdNm:"\uc6b8\uc0b0"}]},onChange:t}){var a,r;const[c,s]=(0,l.useState)([]),[d,n]=(0,l.useState)([]),[p,b]=(0,l.useState)([]),[i,x]=(0,l.useState)(e.pushInfTypCd?e.pushInfTypCd[0].cdVal:"");(0,l.useEffect)((()=>{t({pushInfTypCd:i,mblOsCdDtaVal:c,dsptTgtMbrsDvsCdDtaVal:d,dsptTgtCacmWrkrAreaCdDtaVal:p})}),[c,d,p,i]);const f=(e,t,a)=>{e?("mblOsCdDtaVal"===a&&s((e=>[...e,t])),"dsptTgtMbrsDvsCdDtaVal"===a&&n((e=>[...e,t])),"dsptTgtCacmWrkrAreaCdDtaVal"===a&&b((e=>[...e,t]))):("mblOsCdDtaVal"===a&&s(c.filter((e=>e!==t))),"dsptTgtMbrsDvsCdDtaVal"===a&&n(c.filter((e=>e!==t))),"dsptTgtCacmWrkrAreaCdDtaVal"===a&&b(c.filter((e=>e!==t))))},g=(t,a)=>{const l=e[a].map((({cdVal:e})=>e));t?("mblOsCdDtaVal"===a&&s((e=>e.concat(l))),"dsptTgtMbrsDvsCdDtaVal"===a&&n((e=>e.concat(l))),"dsptTgtCacmWrkrAreaCdDtaVal"===a&&b((e=>e.concat(l)))):("mblOsCdDtaVal"===a&&s((e=>e.filter((e=>!(null==l?void 0:l.includes(e)))))),"dsptTgtMbrsDvsCdDtaVal"===a&&n((e=>e.filter((e=>!(null==l?void 0:l.includes(e)))))),"dsptTgtCacmWrkrAreaCdDtaVal"===a&&b((e=>e.filter((e=>!(null==l?void 0:l.includes(e)))))))};return l.createElement("div",null,l.createElement("table",{className:"w-full text-left"},l.createElement("tbody",null,l.createElement("tr",{className:"flex"},l.createElement("th",{className:"flex w-[150px] py-[12px] pl-[30px] text-body2 font-500 border-b border-tg-80"},"\ud478\uc2dc \uc720\ud615"),l.createElement("td",{className:"py-[12px] w-full border-b border-tg-80"},l.createElement("div",{className:"flex gap-[20px]"},e.pushInfTypCd.map((({cdVal:e,cdNm:t})=>l.createElement(m.A,{key:`pushInfTypCd-${t}`,id:e,name:"pushInfTypCd",label:t,current:i,onChange:e=>x(e.target.id)})))))),l.createElement("tr",{className:"flex"},l.createElement("th",{className:"flex w-[150px] py-[12px] pl-[30px] text-body2 font-500 border-b border-tg-80"},"\ubc1c\uc1a1 \uae30\uae30"),l.createElement("td",{className:"w-full border-b border-tg-80"},l.createElement("div",{className:"flex gap-[20px] py-[10px]"},e.mblOsCdDtaVal.map((({cdVal:e,cdNm:t})=>l.createElement("label",{htmlFor:e,key:e,className:"flex"},l.createElement(o.A,{id:e,isChecked:!!c.includes(e),isDisabled:"\uc544\uc774\ud3f0"===t,onChange:t=>f(t.target.checked,e,"mblOsCdDtaVal")}),l.createElement("span",{className:`text-body2 font-500 ${"\uc544\uc774\ud3f0"===t&&"opacity-30"}`},t))))))),l.createElement("tr",{className:"flex"},l.createElement("th",{className:"flex w-[150px] py-[12px] pl-[30px] text-body2 font-500 border-b border-tg-80"},"\ud68c\uc6d0 \uc720\ud615"),l.createElement("td",{className:"py-[12px] w-full border-b border-tg-80"},l.createElement("div",{className:"flex"},l.createElement("label",{htmlFor:"check-dsptTgtMbrsDvsCdDtaVal-all",className:"flex"},l.createElement(o.A,{id:"check-dsptTgtMbrsDvsCdDtaVal-all",isChecked:!!(null==(a=e.dsptTgtMbrsDvsCdDtaVal)?void 0:a.map((e=>e.cdVal)).every((e=>d.includes(e)))),onChange:e=>g(e.target.checked,"dsptTgtMbrsDvsCdDtaVal")}),l.createElement("span",{className:"text-body2 font-500"},"\uc804\uccb4 \uc120\ud0dd"))),l.createElement("div",{className:"flex gap-[20px] py-[10px]"},e.dsptTgtMbrsDvsCdDtaVal.map((({cdVal:e,cdNm:t})=>l.createElement("label",{htmlFor:e,key:e,className:"flex"},l.createElement(o.A,{id:e,isChecked:!!d.includes(e),onChange:t=>f(t.target.checked,e,"dsptTgtMbrsDvsCdDtaVal")}),l.createElement("span",{className:"text-body2 font-500"},t))))))),l.createElement("tr",{className:"flex"},l.createElement("th",{className:"flex w-[130px] py-[12px] pl-[30px] text-body2 font-500"},"\ubc1c\uc1a1 \uc9c0\uc5ed"),l.createElement("td",{className:"py-[12px]"},l.createElement("div",{className:"flex"},l.createElement("label",{htmlFor:"check-dsptTgtCacmWrkrAreaCdDtaVal-all",className:"flex"},l.createElement(o.A,{id:"check-dsptTgtCacmWrkrAreaCdDtaVal-all",isChecked:!!(null==(r=e.dsptTgtCacmWrkrAreaCdDtaVal)?void 0:r.map((e=>e.cdVal)).every((e=>p.includes(e)))),onChange:e=>g(e.target.checked,"dsptTgtCacmWrkrAreaCdDtaVal")}),l.createElement("span",{className:"text-body2 font-500"},"\uc804\uccb4 \uc120\ud0dd"))),l.createElement("div",{className:"flex gap-[20px] pt-[15px] pb-[5px]"},e.dsptTgtCacmWrkrAreaCdDtaVal.slice(0,6).map((({cdVal:e,cdNm:t})=>l.createElement("label",{htmlFor:e,key:e,className:"flex"},l.createElement(o.A,{id:e,isChecked:!!p.includes(e),onChange:t=>f(t.target.checked,e,"dsptTgtCacmWrkrAreaCdDtaVal")}),l.createElement("span",{className:"text-body2 font-500"},t))))),l.createElement("div",{className:"flex gap-[20px] py-[5px]"},e.dsptTgtCacmWrkrAreaCdDtaVal.slice(6,12).map((({cdVal:e,cdNm:t})=>l.createElement("label",{htmlFor:e,key:e,className:"flex"},l.createElement(o.A,{id:e,isChecked:!!p.includes(e),onChange:t=>f(t.target.checked,e,"dsptTgtCacmWrkrAreaCdDtaVal")}),l.createElement("span",{className:"text-body2 font-500"},t))))),l.createElement("div",{className:"flex gap-[20px] py-[5px]"},e.dsptTgtCacmWrkrAreaCdDtaVal.slice(12,16).map((({cdVal:e,cdNm:t})=>l.createElement("label",{htmlFor:e,key:e,className:"flex"},l.createElement(o.A,{id:e,isChecked:!!p.includes(e),onChange:t=>f(t.target.checked,e,"dsptTgtCacmWrkrAreaCdDtaVal")}),l.createElement("span",{className:"text-body2 font-500"},t))))))))))};var b=a(4003),i=a(2030);const x=function({type:e="hour",defaultValue:t="00",onChange:a}){const[r,c]=(0,l.useState)(t),[s,d]=(0,l.useState)(!1),n=["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24"];return(0,l.useEffect)((()=>{a(r)}),[r]),l.createElement("div",{className:"relative w-[74px]"},s&&"hour"===e&&l.createElement("div",{className:"absolute bottom-[34px] right-0 flex text-sm border border-tg-60 shadow-sm rounded-[4px] bg-white"},l.createElement("div",{className:"flex flex-col justify-center w-[50px] border-r border-tg-60"},n.slice(0,8).map((e=>l.createElement("span",{key:e,className:"flex justify-center py-[4px] cursor-pointer hover:bg-tg-20 "+(e===r?"bg-tg-20":"bg-white"),onClick:()=>{d(!s),c(e)}},e)))),l.createElement("div",{className:"flex flex-col justify-center w-[50px] border-r border-tg-60"},n.slice(8,16).map((e=>l.createElement("span",{key:e,className:"flex justify-center py-[4px] cursor-pointer hover:bg-tg-20 "+(e===r?"bg-tg-20":"bg-white"),onClick:()=>{d(!s),c(e)}},e)))),l.createElement("div",{className:"flex flex-col justify-center w-[50px]"},n.slice(16,24).map((e=>l.createElement("span",{key:e,className:"flex justify-center py-[4px] cursor-pointer hover:bg-tg-20 "+(e===r?"bg-tg-20":"bg-white"),onClick:()=>{d(!s),c(e)}},e))))),s&&"minute"===e&&l.createElement("div",{className:"absolute bottom-[34px] left-0 right-0 text-sm flex flex-col border border-tg-60 shadow-sm rounded-[4px] bg-white"},["00","30"].map((e=>l.createElement("span",{key:e,className:"whitespace-nowrap py-[4px] px-[10px] cursor-pointer hover:bg-tg-20",onClick:()=>{d(!s),c(e)}},e)))),l.createElement("span",{className:"flex items-center w-full h-[32px] border border-tg-60 rounded-[4px] px-[10px] text-sm relative cursor-pointer",onClick:()=>d(!s)},r,"hour"===e?"\uc2dc":"\ubd84"),l.createElement("span",{className:"absolute right-[4px] top-[4px] pointer-events-none"},l.createElement(i.A,{icon:"time"})))};var f=a(5619),g=Object.defineProperty,u=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,N=(e,t,a)=>t in e?g(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,C=(e,t)=>{for(var a in t||(t={}))E.call(t,a)&&N(e,a,t[a]);if(u)for(var a of u(t))h.call(t,a)&&N(e,a,t[a]);return e},y=(e,t,a)=>new Promise(((l,r)=>{var c=e=>{try{d(a.next(e))}catch(e){r(e)}},s=e=>{try{d(a.throw(e))}catch(e){r(e)}},d=e=>e.done?l(e.value):Promise.resolve(e.value).then(c,s);d((a=a.apply(e,t)).next())}));function V({}){const e=(0,r.Zp)(),[t,a]=(0,l.useState)(""),[m,o]=(0,l.useState)("00"),[i,g]=(0,l.useState)("00"),[u,E]=(0,l.useState)({}),{register:h,formState:{errors:N,isValid:V,isSubmitting:v},handleSubmit:k}=(0,c.mN)({mode:"onChange",defaultValues:{ntfcTtlNm:"",pushNtfcCtt:""}});return l.createElement(l.Fragment,null,l.createElement("h2",{className:"mb-[16px] text-headline3 font-Tmoney"},"\uc54c\ub9bc \uad00\ub9ac > \ud478\uc2dc\ub4f1\ub85d"),l.createElement("div",{className:"w-[952px]"},l.createElement("form",{onSubmit:k((a=>y(this,null,(function*(){try{const l=`${t} ${m}:${i}`;if(!u.dsptTgtMbrsDvsCdDtaVal.length)return void toast.alert("\ubc1c\uc1a1\ub300\uc0c1\uc744 \uc120\ud0dd\ud574 \uc8fc\uc138\uc694.");if(""===t)return void toast.alert("PUSH \ubc1c\uc1a1 \uc2dc\uac04\uc744 \uc124\uc815\ud574 \uc8fc\uc138\uc694.");a.ntfcMrnpDtm=l;const r=Object.assign(a,u);f.A.post("/adm/notification",r).then((t=>{200===t.status&&(e("/notification"),toast.success("\uc54c\ub9bc\uc774 \ub4f1\ub85d\ub418\uc5c8\uc2b5\ub2c8\ub2e4"))})).catch((function(e){console.log(e)}))}catch(e){console.log(e)}}))))},l.createElement("div",{className:"overflow-hidden mb-[16px] border border-tg-100 rounded-[10px]"},l.createElement("table",{className:"border-collapse border-hidden table-fixed"},l.createElement("colgroup",null,l.createElement("col",{width:"216"}),l.createElement("col",{width:"736"})),l.createElement("tbody",null,l.createElement("tr",null,l.createElement("th",{className:"px-[24px] pt-[9px] pb-[7px] border-b border-r border-tg-100 bg-tg-10 text-20 font-bold text-left"},"PUSH \uc81c\ubaa9*"),l.createElement("td",{className:"px-[12px] border-b border-tg-100"},l.createElement("div",{className:"w-[446px]"},l.createElement(d.A,C({type:"text",size:"sm",placeholder:"30\uc790 \uc774\ub0b4\ub85c \uc785\ub825\ud574 \uc8fc\uc138\uc694",maxLength:30,isError:N.ntfcTtlNm},h("ntfcTtlNm",{required:!0})))))),l.createElement("tr",null,l.createElement("th",{className:"px-[24px] pt-[9px] pb-[7px] border-b border-r border-tg-100 bg-tg-10 text-20 font-bold text-left"},"PUSH \ub0b4\uc6a9*"),l.createElement("td",{className:"px-[12px] pt-[9px] border-b border-tg-100"},l.createElement("div",{className:"w-[446px]"},l.createElement(n.A,C({size:"sm",maxLength:150,placeholder:"150\uc790 \uc774\ub0b4\ub85c \uc785\ub825\ud574 \uc8fc\uc138\uc694",isError:N.pushNtfcCtt},h("pushNtfcCtt",{required:!0})))))),l.createElement("tr",null,l.createElement("th",{className:"px-[24px] pt-[9px] pb-[7px] border-b border-r border-tg-100 bg-tg-10 text-20 font-bold text-left"},"\ubc1c\uc1a1\ub300\uc0c1*"),l.createElement("td",{className:"px-[12px] border-b border-tg-100"},l.createElement(p,{onChange:e=>E(e)}))),l.createElement("tr",null,l.createElement("th",{className:"px-[24px] pt-[9px] pb-[7px] border-b border-r border-tg-100 bg-tg-10 text-20 font-bold text-left"},"PUSH \ubc1c\uc1a1 \uc2dc\uac04*"),l.createElement("td",{className:"px-[12px] border-b border-tg-100"},l.createElement("div",{className:"flex gap-[10px]"},l.createElement(b.A,{onChange:e=>a(e.target.value)}),l.createElement(x,{type:"hour",onChange:e=>o(e)}),l.createElement(x,{type:"minute",onChange:e=>g(e)}))))))),l.createElement("div",{className:"flex justify-between"},l.createElement(s.A,{type:"button",color:"secondary",onClick:()=>e("/notification")},"\ucde8\uc18c"),v||V?l.createElement(s.A,{type:"submit"},"\ub4f1\ub85d"):l.createElement(s.A,{type:"button",color:"secondary"},"\ub4f1\ub85d")))))}}}]);