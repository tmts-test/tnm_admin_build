"use strict";(self.webpackChunktnm_front_admin=self.webpackChunktnm_front_admin||[]).push([[6522],{6522:(e,t,a)=>{a.r(t),a.d(t,{default:()=>y});var l=a(9352),r=a(4668),n=a(5038),c=a(7502),o=a(4729),m=a(1006),s=a(2697),p=a(5633),d=a(8023),i=a(8219),f=a(6925),u=Object.defineProperty,b=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,E=(e,t,a)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,g=(e,t)=>{for(var a in t||(t={}))h.call(t,a)&&E(e,a,t[a]);if(b)for(var a of b(t))x.call(t,a)&&E(e,a,t[a]);return e},N=(e,t,a)=>new Promise(((l,r)=>{var n=e=>{try{o(a.next(e))}catch(e){r(e)}},c=e=>{try{o(a.throw(e))}catch(e){r(e)}},o=e=>e.done?l(e.value):Promise.resolve(e.value).then(n,c);o((a=a.apply(e,t)).next())}));function y({}){const e=(0,r.Zp)(),t=(0,r.zy)(),a=t.pathname,[u,b]=(0,l.useState)([]),[h,x]=(0,l.useState)([]),[E,y]=(0,l.useState)(""),[S,v]=(0,l.useState)("Y"),[C,A]=(0,l.useState)(""),[q,w]=(0,l.useState)("N"),[F,T]=(0,l.useState)(!1),{data:k,refetch:D}=(0,d.gd)(Number(t.pathname.match(/\d+$/))),{register:O,setValue:Y,watch:j,formState:{errors:P},handleSubmit:$}=(0,c.mN)({mode:"onChange",defaultValues:{atchFileSnoList:null,faqCtt:"",faqTtlNm:""}}),_=j("faqTtlNm");(0,l.useEffect)((()=>{D()}),[a]),(0,l.useEffect)((()=>{"Y"!==S&&"N"!==S||A(""),E&&_?"R"===S?(T(!1),14!==C.length&&16!==C.length||T(!0)):T(!0):T(!1)}),[E,_,C,S]),(0,l.useEffect)((()=>{var e;if(null==(e=null==k?void 0:k.result)?void 0:e.faq){const{faqTtlNm:e,faqCtt:t,mhrkFxdYn:a,files:l,bltnSttDtm:r,bltnStaCd:n}=k.result.faq;Y("faqTtlNm",e),Y("faqCtt",t),w(a),v(n),A(r),y(t),b([]),b((e=>[...e,...l]))}}),[k]);return l.createElement(l.Fragment,null,l.createElement("h2",{className:"mb-[16px] text-headline3 font-Tmoney"},"FAQ \uad00\ub9ac > \uc218\uc815\ud558\uae30"),l.createElement("div",null,l.createElement("form",{className:"flex items-start gap-[40px]",onSubmit:$((a=>N(this,null,(function*(){new Date>(0,i.Rm)(C)?toast.alert("\uc608\uc57d\uc2dc\uac04\uc740 \ud604\uc7ac\uc2dc\uac04 \ubcf4\ub2e4 \uc774\uc804\uc77c \uc218 \uc5c6\uc2b5\ub2c8\ub2e4"):(a.faqSno=Number(t.pathname.match(/\d+$/)),a.faqCtt=E,a.bltnSttDtm=C,a.bltnStaCd=S,a.mhrkFxdYn=q,a.atchFileSnoList=u.map((e=>e.atchFileSno)),a.deleteAtchFileSnoList=h.map((e=>e.atchFileSno)),14===C.length&&(a.bltnSttDtm=(0,i.aN)(C)),n.A.put(`/adm/faq/${t.pathname.match(/\d+$/)}`,a).then((t=>{200===t.status&&(e("/cscenter/faq"),toast.success("\uac8c\uc2dc\ubb3c\uc774 \uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4"))})).catch((function(e){console.log(e)})))}))))},l.createElement("div",null,l.createElement("div",{className:"overflow-hidden mb-[16px] border border-tg-100 rounded-[10px]"},l.createElement("table",{className:"border-collapse border-hidden table-fixed"},l.createElement("colgroup",null,l.createElement("col",{width:"195"}),l.createElement("col",{width:"757"})),l.createElement("tbody",null,l.createElement("tr",null,l.createElement("th",{className:"px-[24px] pt-[9px] pb-[7px] border-b border-r border-tg-100 bg-tg-10 text-20 font-bold text-left"},"\uc81c\ubaa9"),l.createElement("td",{className:"px-[12px] border-b border-tg-100"},l.createElement("div",{className:"w-[446px]"},l.createElement(s.A,g({type:"text",size:"sm",isError:P.faqTtlNm},O("faqTtlNm",{required:!0})))))),l.createElement("tr",null,l.createElement("th",{className:"px-[24px] pt-[9px] pb-[7px] border-b border-r border-tg-100 bg-tg-10 text-20 font-bold text-left"},"\ub0b4\uc6a9"),l.createElement("td",{className:"px-[12px] py-[12px] border-b border-tg-100"},l.createElement(o.A,{setData:e=>y(e),defaultData:E,isUploadImage:!0,onChange:e=>{b((t=>[...t,e]))}}))),l.createElement("tr",null,l.createElement("th",{className:"px-[24px] pt-[9px] pb-[7px] border-b border-r border-tg-100 bg-tg-10 text-20 font-bold text-left"},"\ucca8\ubd80\ud30c\uc77c"),l.createElement("td",{className:"px-[12px] border-b border-tg-100"},l.createElement("div",{className:"flex gap-[8px] w-[400px] pt-[10px] relative"},l.createElement("input",{type:"file",multiple:!0,className:"absolute top-0 left-0 w-full h-full opacity-0 cursor-pointer",onChange:e=>N(this,null,(function*(){const t=e.target.files;if(t){const e=new FormData;for(let a=0;a<t.length;a++)e.append("attach",t[a]);n.A.post("/adm/faq/file/upload",e,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{b((t=>[...t,...e.data.result.saveFileList]))})).catch((function(e){console.log(e)}))}}))}),l.createElement(s.A,{type:"text",size:"sm"}),l.createElement(m.A,{size:"md",color:"secondary"},"\ucc3e\uc544\ubcf4\uae30....")),u.length?l.createElement("div",{className:"py-[7px]"},null==u?void 0:u.map(((e,t)=>"ATTACH"===e.fileAcsTypCd&&l.createElement("div",{key:`file-${t}`,className:"flex items-center gap-[5px]"},l.createElement("span",{className:"text-caption"},e.orglFileNm),l.createElement("button",{type:"button",onClick:()=>(e=>{const t=u.filter((t=>!(t.orglFileNm===e.orglFileNm&&t.fileAcsTypCd===e.fileAcsTypCd)));b(t),x(h.concat(e))})(e)},l.createElement(p.A,{icon:"file_delete"})))))):l.createElement("div",{className:"flex items-center gap-[10px] py-[7px]"},l.createElement(p.A,{icon:"check"}),l.createElement("span",{className:"text-caption"},"\ud30c\uc77c\ucca8\ubd80\ub294 5MB, \ucd5c\ub300 10\uae4c\uc9c0 \uac00\ub2a5\ud569\ub2c8\ub2e4. \ud30c\uc77c 0\uac1c, 0KB/5MB"))))))),l.createElement("div",{className:"flex justify-between"},l.createElement(m.A,{color:"secondary",onClick:()=>e("/cscenter/faq")},"\ucde8\uc18c"),F?l.createElement(m.A,{type:"submit"},"\uc800\uc7a5"):l.createElement(m.A,{type:"button",color:"secondary"},"\uc800\uc7a5"))),l.createElement(f.A,{bltnStaCd:S,mhrkFxdYn:q,bltnSttDtm:C,setBltnStaCd:v,setMhrkFxdYn:w,onChange:e=>A(e)}))))}}}]);