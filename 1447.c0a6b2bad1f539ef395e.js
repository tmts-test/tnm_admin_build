"use strict";(self.webpackChunktnm_front_admin=self.webpackChunktnm_front_admin||[]).push([[1447],{1447:(t,s,e)=>{e.d(s,{n:()=>d});var i=e(9352),r=e(9275),n=e(6981),u=e(9868),o=e(1967);class a extends o.Q{constructor(t,s){super(),this.client=t,this.setOptions(s),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var s;const e=this.options;this.options=this.client.defaultMutationOptions(t),(0,r.f8)(e,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),null==(s=this.currentMutation)||s.setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(null==(t=this.currentMutation)||t.removeObserver(this))}onMutationUpdate(t){this.updateResult();const s={listeners:!0};"success"===t.type?s.onSuccess=!0:"error"===t.type&&(s.onError=!0),this.notify(s)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(t,s){return this.mutateOptions=s,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:"undefined"!==typeof t?t:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const t=this.currentMutation?this.currentMutation.state:(0,n.$)(),s={...t,isLoading:"loading"===t.status,isSuccess:"success"===t.status,isError:"error"===t.status,isIdle:"idle"===t.status,mutate:this.mutate,reset:this.reset};this.currentResult=s}notify(t){u.j.batch((()=>{var s,e,i,r;if(this.mutateOptions&&this.hasListeners())if(t.onSuccess)null==(s=(e=this.mutateOptions).onSuccess)||s.call(e,this.currentResult.data,this.currentResult.variables,this.currentResult.context),null==(i=(r=this.mutateOptions).onSettled)||i.call(r,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context);else if(t.onError){var n,u,o,a;null==(n=(u=this.mutateOptions).onError)||n.call(u,this.currentResult.error,this.currentResult.variables,this.currentResult.context),null==(o=(a=this.mutateOptions).onSettled)||o.call(a,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}t.listeners&&this.listeners.forEach((({listener:t})=>{t(this.currentResult)}))}))}}var c=e(3677),h=e(921),l=e(2208);function d(t,s,e){const n=(0,r.GR)(t,s,e),o=(0,h.jE)({context:n.context}),[d]=i.useState((()=>new a(o,n)));i.useEffect((()=>{d.setOptions(n)}),[d,n]);const b=(0,c.r)(i.useCallback((t=>d.subscribe(u.j.batchCalls(t))),[d]),(()=>d.getCurrentResult()),(()=>d.getCurrentResult())),R=i.useCallback(((t,s)=>{d.mutate(t,s).catch(p)}),[d]);if(b.error&&(0,l.G)(d.options.useErrorBoundary,[b.error]))throw b.error;return{...b,mutate:R,mutateAsync:b.mutate}}function p(){}}}]);