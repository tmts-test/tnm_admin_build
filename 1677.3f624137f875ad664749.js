"use strict";(self.webpackChunktnm_front_admin=self.webpackChunktnm_front_admin||[]).push([[1677],{1677:(e,t,r)=>{r.r(t),r.d(t,{default:()=>w});var a=r(525),l=r(6038),n=r(5788),o=r(6869),s=r(6071),c=r(4378),m=r(7067),d=r(7280),p=r(7528),b=r(7806),i=r(4869),u=Object.defineProperty,x=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,g=(e,t,r)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,h=(e,t)=>{for(var r in t||(t={}))E.call(t,r)&&g(e,r,t[r]);if(x)for(var r of x(t))f.call(t,r)&&g(e,r,t[r]);return e},N=(e,t,r)=>new Promise(((a,l)=>{var n=e=>{try{s(r.next(e))}catch(e){l(e)}},o=e=>{try{s(r.throw(e))}catch(e){l(e)}},s=e=>e.done?a(e.value):Promise.resolve(e.value).then(n,o);s((r=r.apply(e,t)).next())}));const w=function({}){const[e,t]=(0,a.useState)(!1),r=(0,l.Zp)(),u=(0,l.zy)(),x=u.pathname,[E,f]=(0,a.useState)(!1),[g,w]=(0,a.useState)(""),[y,v]=(0,a.useState)(!1),[I,z]=(0,a.useState)(!1),[B,S]=(0,a.useState)(""),[A,C]=(0,a.useState)(""),[D,P]=(0,a.useState)(""),[k,O]=(0,a.useState)(""),[$,j]=(0,a.useState)(""),[q,F]=(0,a.useState)(""),{register:V,watch:_,getValues:L,setValue:R,formState:{isSubmitting:M,errors:T,isValid:X},handleSubmit:Z}=(0,n.mN)({mode:"onChange",defaultValues:{asgnNm:"",cprtNm:"",brn:"",transpBizrId:"",telNo:"",mbrsPwd:"",memoCtt:""}}),G=_("brn"),H=_("transpBizrId"),J=_("mbrsPwd"),{data:K,refetch:Q}=(0,p.DO)(Number(u.pathname.match(/\d+$/)));(0,a.useEffect)((()=>{var e;if(null==(e=null==K?void 0:K.result)?void 0:e.user){const{asgnNm:e,cprtNm:t,brn:r,transpBizrId:a,telNo:l,memoCtt:n}=K.result.user;R("asgnNm",e),R("cprtNm",t),R("brn",r),R("transpBizrId",a),R("telNo",l),R("memoCtt",n||""),S(e),C(t),P(r),O(a),j(l),F(n)}}),[K]),(0,a.useEffect)((()=>{Q()}),[x]),(0,a.useEffect)((()=>{v(!1)}),[G]),(0,a.useEffect)((()=>{z(!1)}),[H]);const U=e=>{const t=e.replace(/-/g,"").split("").map((e=>parseInt(e,10)));if(10!==t.length)return!1;const r=[1,3,7,1,3,7,1,3,5];let a=0;r.forEach(((e,r)=>{a+=e*t[r]})),a+=Math.floor(r[8]*t[8]/10);const l=(10-a%10)%10;return t[9]===l},W=e=>N(this,null,(function*(){if("brn"===e)try{if(!U(L("brn")))return void toast.alert("\uc0ac\uc5c5\uc790\ubc88\ud638\ub97c \ud655\uc778\ud574\uc8fc\uc138\uc694");const e=yield o.A.get(`/adm/corp-owner/duplicate-brn?brn=${L("brn")}`),t=e.data.code;if(200===e.status){if("200100"===t){if(e.data.result.duplicateFlag)throw w("\uc0ac\uc5c5\uc790\ubc88\ud638"),f(!0),new Error("Duplicate BRN");toast.success("\uc0ac\uc6a9 \uac00\ub2a5\ud55c \uc0ac\uc5c5\uc790\ubc88\ud638\uc785\ub2c8\ub2e4"),v(!0)}if("200101"===t)throw w("\uc0ac\uc5c5\uc790\ubc88\ud638"),f(!0),new Error("Duplicate BRN");if("200200"===t)throw toast.alert("\uc0ac\uc6a9\ud560 \uc218 \uc5c6\ub294 \uc0ac\uc5c5\uc790\ubc88\ud638\uc785\ub2c8\ub2e4"),new Error("Invalid BRN")}}catch(e){throw console.error(e),e}if("transpBizrId"===e)try{if(!i.Ii.test(L("transpBizrId")))return void toast.alert("\uad50\ud1b5\uc0ac\uc5c5\uc790ID\ub97c \ud655\uc778\ud574\uc8fc\uc138\uc694");const e=yield o.A.get(`/adm/corp-owner/duplicate-transp-bizr-id?transpBizrId=${L("transpBizrId")}`),t=e.data.code;if(200===e.status){if("200100"===t){if(e.data.result.duplicateFlag)throw w("\uad50\ud1b5\uc0ac\uc5c5\uc790ID"),f(!0),new Error("Duplicate transpBizrId");toast.success("\uc0ac\uc6a9 \uac00\ub2a5\ud55c \uad50\ud1b5\uc0ac\uc5c5\uc790ID\uc785\ub2c8\ub2e4"),z(!0)}if("200101"===t)throw w("\uad50\ud1b5\uc0ac\uc5c5\uc790ID"),f(!0),new Error("Duplicate transpBizrId");if("200200"===t)throw toast.alert("\uc0ac\uc6a9\ud560 \uc218 \uc5c6\ub294 \uad50\ud1b5\uc0ac\uc5c5\uc790ID\uc785\ub2c8\ub2e4"),new Error("Invalid transpBizrId")}}catch(e){throw console.error(e),e}}));return a.createElement(a.Fragment,null,a.createElement("h2",{className:"mb-[16px] text-headline3 font-Tmoney"},"\ud68c\uc6d0\uad00\ub9ac > \ubc95\uc778\uc0ac\uc5c5\uc8fc \ud68c\uc6d0 > ",e?"\uc218\uc815\ud558\uae30":"\uc0c1\uc138\ubcf4\uae30"),a.createElement("div",{className:"w-[952px]"},a.createElement("form",{onSubmit:Z((e=>N(this,null,(function*(){try{if(J&&!i.Tp.test(J))return void toast.alert("\ube44\ubc00\ubc88\ud638\ub97c \ud655\uc778\ud574\uc8fc\uc138\uc694");if(!U(L("brn")))return void toast.alert("\uc0ac\uc5c5\uc790\ubc88\ud638\ub97c \ud655\uc778\ud574\uc8fc\uc138\uc694");if(!i.Ii.test(L("transpBizrId")))return void toast.alert("\uad50\ud1b5\uc0ac\uc5c5\uc790ID\ub97c \ud655\uc778\ud574\uc8fc\uc138\uc694");if(L("brn")!==G&&!y)return void toast.alert("\uc0ac\uc5c5\uc790\ubc88\ud638 \uc911\ubcf5\uccb4\ud06c\ub97c \uc644\ub8cc\ud574 \uc8fc\uc138\uc694");if(L("transpBizrId")!==H&&!I)return void toast.alert("\uad50\ud1b5\uc0ac\uc5c5\uc790ID \uc911\ubcf5\uccb4\ud06c\ub97c \uc644\ub8cc\ud574 \uc8fc\uc138\uc694");if(!i.XD.test(L("telNo")))return void toast.alert("\uc5f0\ub77d\ucc98\ub97c \ud655\uc778\ud574\uc8fc\uc138\uc694");e.mbrsSno=Number(u.pathname.match(/\d+$/)),""===e.mbrsPwd&&delete e.mbrsPwd,o.A.put(`/adm/corp-owner/${u.pathname.match(/\d+$/)}`,e).then((e=>{200===e.status&&(r("/member/owner"),toast.success("\ubc95\uc778\uc0ac\uc5c5\uc8fc\uac00 \uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4"))})).catch((function(e){console.log(e)}))}catch(e){console.log(e)}}))))},a.createElement("div",{className:"overflow-hidden mb-[16px] border border-tg-100 rounded-[10px]"},a.createElement("table",{className:"border-collapse border-hidden table-fixed"},a.createElement("colgroup",null,a.createElement("col",{width:"177"}),a.createElement("col",{width:"775"})),a.createElement("tbody",null,a.createElement("tr",null,a.createElement("th",{className:"px-[24px] pt-[9px] pb-[7px] border-b border-r border-tg-100 bg-tg-10 text-20 font-bold text-left"},"\uad6c\ubd84"),a.createElement("td",{className:"px-[12px] border-b border-tg-100"},"\ubc95\uc778\uc0ac\uc5c5\uc8fc")),a.createElement("tr",null,a.createElement("th",{className:"px-[24px] pt-[9px] pb-[7px] border-b border-r border-tg-100 bg-tg-10 text-20 font-bold text-left"},"\uc18c\uc18d",e&&"*"),a.createElement("td",{className:"px-[12px] border-b border-tg-100"},e?a.createElement("div",{className:"w-[446px]"},a.createElement(c.A,h({type:"text",size:"sm",isError:T.asgnNm},V("asgnNm",{required:!0})))):L("asgnNm"))),a.createElement("tr",null,a.createElement("th",{className:"px-[24px] pt-[9px] pb-[7px] border-b border-r border-tg-100 bg-tg-10 text-20 font-bold text-left"},"\ubc95\uc778\uba85",e&&"*"),a.createElement("td",{className:"px-[12px] border-b border-tg-100"},e?a.createElement("div",{className:"w-[446px]"},a.createElement(c.A,h({type:"text",size:"sm",isError:T.cprtNm},V("cprtNm",{required:!0})))):L("cprtNm"))),a.createElement("tr",null,a.createElement("th",{className:"px-[24px] pt-[9px] pb-[7px] border-b border-r border-tg-100 bg-tg-10 text-20 font-bold text-left"},"\uc0ac\uc5c5\uc790\ubc88\ud638",e&&"*"),a.createElement("td",{className:"px-[12px] border-b border-tg-100"},e?a.createElement("div",{className:"flex items-center gap-[10px]"},a.createElement("div",{className:"w-[446px]"},a.createElement(c.A,h({type:"text",size:"sm",maxLength:10,placeholder:"- \uc5c6\uc774 \uc785\ub825\ud574\uc8fc\uc138\uc694",isError:T.brn},V("brn",{required:!0})))),G&&a.createElement(s.A,{type:"button",color:"secondary",onClick:()=>W("brn")},"\uc911\ubcf5\uccb4\ud06c")):L("brn"))),a.createElement("tr",null,a.createElement("th",{className:"px-[24px] pt-[9px] pb-[7px] border-b border-r border-tg-100 bg-tg-10 text-20 font-bold text-left"},"\uad50\ud1b5\uc0ac\uc5c5\uc790ID",e&&"*"),a.createElement("td",{className:"px-[12px] border-b border-tg-100"},e?a.createElement("div",{className:"flex items-center gap-[10px]"},a.createElement("div",{className:"w-[446px]"},a.createElement(c.A,h({type:"text",size:"sm",maxLength:9,placeholder:"- \uc5c6\uc774 \uc785\ub825\ud574\uc8fc\uc138\uc694",isError:T.transpBizrId},V("transpBizrId",{required:!0})))),H&&a.createElement(s.A,{type:"button",color:"secondary",onClick:()=>W("transpBizrId")},"\uc911\ubcf5\uccb4\ud06c")):L("transpBizrId"))),a.createElement("tr",null,a.createElement("th",{className:"px-[24px] pt-[9px] pb-[7px] border-b border-r border-tg-100 bg-tg-10 text-20 font-bold text-left"},"\uc5f0\ub77d\ucc98",e&&"*"),a.createElement("td",{className:"px-[12px] border-b border-tg-100"},e?a.createElement("div",{className:"w-[446px]"},a.createElement(c.A,h({type:"text",size:"sm",placeholder:"ex) 0220885000",isError:T.telNo},V("telNo",{required:!0})))):L("telNo"))),a.createElement("tr",null,a.createElement("th",{className:"px-[24px] pt-[9px] pb-[7px] border-b border-r border-tg-100 bg-tg-10 text-20 font-bold text-left"},"\ube44\ubc00\ubc88\ud638"),a.createElement("td",{className:"px-[12px] border-b border-tg-100"},e?a.createElement("div",{className:"w-[446px]"},a.createElement(c.A,h({type:"password",size:"sm",placeholder:"\ube44\ubc00\ubc88\ud638 \uc7ac\uc124\uc815(8\uc790\ub9ac \uc774\uc0c1, \uc22b\uc790 \ud3ec\ud568)",isError:T.mbrsPwd},V("mbrsPwd")))):(0,b.yE)("abcd1234!"))),a.createElement("tr",null,a.createElement("th",{className:"px-[16px] pt-[9px] pb-[7px] border-b border-r border-tg-100 bg-tg-10 text-20 font-bold text-left"},"\uba54\ubaa8"),a.createElement("td",{className:"px-[12px] py-[9px] border-b border-tg-100"},a.createElement("div",{className:"flex w-[446px]"},e?a.createElement(m.A,h({size:"sm",placeholder:"300\uc790 \uc774\ub0b4 \uba54\ubaa8 \uc785\ub825(\uad8c\uc7a5)",maxLength:1500},V("memoCtt"))):a.createElement("div",{className:"w-full h-[124px] py-[5px] px-[10px] rounded-[4px] border border-tg-80 text-sm leading-5 overflow-auto"},L("memoCtt")))))))),a.createElement("div",{className:"flex justify-between"},e?a.createElement(s.A,{type:"button",color:"secondary",onClick:()=>{t(!e),R("asgnNm",B),R("cprtNm",A),R("brn",D),R("transpBizrId",k),R("telNo",$),R("mbrsPwd",""),R("memoCtt",q)}},"\ucde8\uc18c"):a.createElement(s.A,{type:"button",color:"secondary",onClick:()=>r("/member/owner")},"\ubaa9\ub85d"),e?a.createElement(a.Fragment,null,M||X?a.createElement(s.A,{type:"submit"},"\uc800\uc7a5"):a.createElement(s.A,{type:"button",color:"secondary",disabled:!0},"\uc800\uc7a5")):a.createElement(s.A,{type:"button",onClick:()=>t(!0)},"\uc218\uc815")))),a.createElement(d.A,{name:g,isShow:E,setIsShowModal:f}))}}}]);