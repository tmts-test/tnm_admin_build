"use strict";(self.webpackChunktnm_front_admin=self.webpackChunktnm_front_admin||[]).push([[8746],{8746:(e,t,l)=>{l.r(t),l.d(t,{default:()=>y});var n=l(525),r=l(6038),a=l(6869),o=l(5788),c=l(2188),s=l(6071),m=l(4378),p=l(3904),i=l(5350),d=l(7806),b=Object.defineProperty,u=Object.getOwnPropertySymbols,x=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,h=(e,t,l)=>t in e?b(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,E=(e,t)=>{for(var l in t||(t={}))x.call(t,l)&&h(e,l,t[l]);if(u)for(var l of u(t))f.call(t,l)&&h(e,l,t[l]);return e},g=(e,t,l)=>new Promise(((n,r)=>{var a=e=>{try{c(l.next(e))}catch(e){r(e)}},o=e=>{try{c(l.throw(e))}catch(e){r(e)}},c=e=>e.done?n(e.value):Promise.resolve(e.value).then(a,o);c((l=l.apply(e,t)).next())}));function y({}){const e=(0,r.Zp)(),[t,l]=(0,n.useState)([]),[b,u]=(0,n.useState)(""),[x,f]=(0,n.useState)("Y"),[h,y]=(0,n.useState)("2024-07-01 00:00"),[N,v]=(0,n.useState)("N"),[S,w]=(0,n.useState)(!1),{register:C,watch:A,formState:{errors:F},handleSubmit:k}=(0,o.mN)({mode:"onChange",defaultValues:{atchFileSnoList:null,ntcMttrCtt:"",ntcMttrTtlNm:""}}),M=A("ntcMttrTtlNm");(0,n.useEffect)((()=>{"Y"!==x&&"N"!==x||y(""),b&&M?"R"===x?(w(!1),16===h.length&&w(!0)):w(!0):w(!1)}),[b,M,h,x]);return n.createElement(n.Fragment,null,n.createElement("h2",{className:"mb-[16px] text-headline3 font-Tmoney"},"\uacf5\uc9c0\uc0ac\ud56d \uad00\ub9ac > \ub4f1\ub85d\ud558\uae30"),n.createElement("div",null,n.createElement("form",{className:"flex items-start gap-[40px]",onSubmit:k((l=>g(this,null,(function*(){new Date>(0,d.Rm)(h)?toast.alert("\uc608\uc57d\uc2dc\uac04\uc740 \ud604\uc7ac\uc2dc\uac04 \ubcf4\ub2e4 \uc774\uc804\uc77c \uc218 \uc5c6\uc2b5\ub2c8\ub2e4"):(l.ntcMttrCtt=b,l.bltnSttDtm=h,l.bltnStaCd=x,l.mhrkFxdYn=N,l.bltnSttDtm=h,l.atchFileSnoList=t.map((e=>e.atchFileSno)),a.A.post("/adm/notice",l).then((t=>{200===t.status&&(e("/cscenter/notice"),toast.success("\uac8c\uc2dc\ubb3c\uc774 \ub4f1\ub85d\ub418\uc5c8\uc2b5\ub2c8\ub2e4"))})).catch((function(e){console.log(e)})))}))))},n.createElement("div",null,n.createElement("div",{className:"overflow-hidden mb-[16px] border border-tg-100 rounded-[10px]"},n.createElement("table",{className:"border-collapse border-hidden table-fixed"},n.createElement("colgroup",null,n.createElement("col",{width:"195"}),n.createElement("col",{width:"757"})),n.createElement("tbody",null,n.createElement("tr",null,n.createElement("th",{className:"px-[24px] pt-[9px] pb-[7px] border-b border-r border-tg-100 bg-tg-10 text-20 font-bold text-left"},"\uc81c\ubaa9"),n.createElement("td",{className:"px-[12px] border-b border-tg-100"},n.createElement("div",{className:"w-[446px]"},n.createElement(m.A,E({type:"text",size:"sm",isError:F.ntcMttrTtlNm},C("ntcMttrTtlNm",{required:!0})))))),n.createElement("tr",null,n.createElement("th",{className:"px-[24px] pt-[9px] pb-[7px] border-b border-r border-tg-100 bg-tg-10 text-20 font-bold text-left"},"\ub0b4\uc6a9"),n.createElement("td",{className:"px-[12px] py-[12px] border-b border-tg-100"},n.createElement(c.A,{setData:e=>u(e),isUploadImage:!0,onChange:e=>{console.log("test!!!!!!1 : {}",e),l((t=>[...t,e]))}}))),n.createElement("tr",null,n.createElement("th",{className:"px-[24px] pt-[9px] pb-[7px] border-b border-r border-tg-100 bg-tg-10 text-20 font-bold text-left"},"\ucca8\ubd80\ud30c\uc77c"),n.createElement("td",{className:"px-[12px] border-b border-tg-100"},n.createElement("div",{className:"flex gap-[8px] w-[400px] pt-[10px] relative"},n.createElement("input",{type:"file",multiple:!0,className:"absolute top-0 left-0 w-full h-full opacity-0 cursor-pointer",onChange:e=>g(this,null,(function*(){console.log("e test : {}",e);const n=e.target.files;if(console.log("files empty test:{}",n),n){const e=new FormData;console.log("current1 FIle : {}",n);for(let t=0;t<n.length;t++)e.append("attach",n[t]);a.A.post("/adm/notice/file/upload",e,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{console.log("reeee : {}",e),l((t=>[...t,...e.data.result.saveFileList])),console.log("eeqqqqq : {}",t)})).catch((function(e){console.log(e)}))}}))}),n.createElement(m.A,{type:"text",size:"sm"}),n.createElement(s.A,{size:"md",color:"secondary"},"\ucc3e\uc544\ubcf4\uae30....")),t.length?n.createElement("div",{className:"py-[7px]"},null==t?void 0:t.map(((e,r)=>"ATTACH"===e.fileAcsTypCd&&n.createElement("div",{key:`file-${r}`,className:"flex items-center gap-[5px]"},n.createElement("span",{className:"text-caption"},e.orglFileNm),n.createElement("button",{type:"button",onClick:()=>(e=>{console.log("current2 FIle : {}",e);const n=t.filter((t=>!(t.atchFileSno===e.atchFileSno)));l(n)})(e)},n.createElement(p.A,{icon:"file_delete"})))))):n.createElement("div",{className:"flex items-center gap-[10px] py-[7px]"},n.createElement(p.A,{icon:"check"}),n.createElement("span",{className:"text-caption"},"\ud30c\uc77c\ucca8\ubd80\ub294 5MB, \ucd5c\ub300 10\uae4c\uc9c0 \uac00\ub2a5\ud569\ub2c8\ub2e4. \ud30c\uc77c 0\uac1c, 0KB/5MB"))))))),n.createElement("div",{className:"flex justify-between"},n.createElement(s.A,{color:"secondary",onClick:()=>e("/cscenter/notice")},"\ucde8\uc18c"),S?n.createElement(s.A,{type:"submit"},"\ub4f1\ub85d"):n.createElement(s.A,{type:"button",color:"secondary"},"\ub4f1\ub85d"))),n.createElement(i.A,{bltnStaCd:x,mhrkFxdYn:N,bltnSttDtm:h,setBltnStaCd:f,setMhrkFxdYn:v,onChange:e=>y(e)}))))}}}]);