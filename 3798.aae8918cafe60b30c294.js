"use strict";(self.webpackChunktnm_front_admin=self.webpackChunktnm_front_admin||[]).push([[3798],{3798:(e,t,r)=>{r.r(t),r.d(t,{default:()=>w});var a=r(1027),l=r(2132),n=r(5619),s=r(5788),m=r(3269),o=r(9492),c=r(4205),d=r(2634),b=r(5465),p=r(9264),x=r(6736),i=r(7439),u=r(1819),E=Object.defineProperty,g=Object.getOwnPropertySymbols,N=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,h=(e,t,r)=>t in e?E(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,y=(e,t)=>{for(var r in t||(t={}))N.call(t,r)&&h(e,r,t[r]);if(g)for(var r of g(t))f.call(t,r)&&h(e,r,t[r]);return e},v=(e,t,r)=>new Promise(((a,l)=>{var n=e=>{try{m(r.next(e))}catch(e){l(e)}},s=e=>{try{m(r.throw(e))}catch(e){l(e)}},m=e=>e.done?a(e.value):Promise.resolve(e.value).then(n,s);m((r=r.apply(e,t)).next())}));function w({use:e=["\uc0ac\uc6a9","\ubbf8\uc0ac\uc6a9"]}){const[t,r]=(0,a.useState)(e?e[0]:""),[E,g]=(0,a.useState)(""),[N,f]=(0,a.useState)(0),[h,w]=(0,a.useState)(""),[A,S]=(0,a.useState)(""),[P,C]=(0,a.useState)(""),[k,z]=(0,a.useState)(""),[R,Y]=(0,a.useState)(""),[j,I]=(0,a.useState)(""),[O,$]=(0,a.useState)(),[F,L]=(0,a.useState)(!1),[V,_]=(0,a.useState)(!1),q=(0,l.Zp)(),T=(0,l.zy)(),W=T.pathname,{data:J,refetch:X}=(0,u.or)(),{data:Z,refetch:B}=(0,u.tg)(Number(T.pathname.match(/\d+$/))),{mutate:D,isSuccess:G,isError:H}=(0,u.X)(),{register:K,getValues:M,setValue:Q,setError:U,watch:ee,formState:{errors:te,isSubmitting:re,isValid:ae},handleSubmit:le}=(0,s.mN)({mode:"onChange",shouldFocusError:!1,defaultValues:{mbrsId:"",mbrsName:"",mbrsPwd:"",mbrsPwdRe:"",mailAddr:"",mblNo:"",dprtNm:"",pstnNm:"",useYn:"Y"}}),ne=ee("mailAddr"),se=ee("mbrsPwd"),me=ee("mbrsPwdRe");function oe(e,t){let r=e.map((e=>({accessor:e.athtSno,value:e.athtNm}))),a=r.findIndex((e=>e.accessor===t));if(-1!==a){let[e]=r.splice(a,1);r.unshift(e)}return r}(0,a.useEffect)((()=>{X(),B()}),[W]),(0,a.useEffect)((()=>{G&&q("/manager/user")}),[G]),(0,a.useEffect)((()=>{H&&alert("\uc0ac\uc6a9\uc790\ub97c \uc0ad\uc81c\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4")}),[H]),(0,a.useEffect)((()=>{var e;if(null==(e=null==Z?void 0:Z.result)?void 0:e.manager){const{mbrsId:e,mbrsName:t,mailAddr:a,mblNo:l,dprtNm:n,pstnNm:s,useYn:m,athtSno:o}=Z.result.manager;Q("mbrsId",e),Q("mbrsName",t),Q("mailAddr",a),Q("mblNo",l),Q("dprtNm",n),Q("pstnNm",s),r("Y"===m?"\uc0ac\uc6a9":"\ubbf8\uc0ac\uc6a9"),f(o),g(a),w(t),S(a),Y(l),C(n),z(s),oe(null==J?void 0:J.result.authorityList,o)}}),[Z]),(0,a.useEffect)((()=>{let e=null==J?void 0:J.result.authorityList.find((e=>e.athtSno===N));I(null==e?void 0:e.athtNm)}),[N]);return a.createElement(a.Fragment,null,a.createElement("h2",{className:"mb-[16px] text-headline3 font-Tmoney"},"\uad00\ub9ac\uc790\uad00\ub9ac > \uc0ac\uc6a9\uc790 \uad00\ub9ac > ",F?"\uc218\uc815\ud558\uae30":"\uc0c1\uc138\ubcf4\uae30"),a.createElement("div",{className:"w-[952px]"},a.createElement("form",{onSubmit:le((e=>v(this,null,(function*(){try{if(!i.at.test(E))return void alert("\uc774\uba54\uc77c \ud615\uc2dd\uc744 \ud655\uc778\ud574\uc8fc\uc138\uc694");if(!i.WJ.test(M("mblNo")))return void alert("\ud734\ub300\ud3f0\ubc88\ud638\ub97c \ud655\uc778\ud574\uc8fc\uc138\uc694");if(se&&i.s6.test(se))return void toast.alert("4\uc790\ub9ac \uc774\uc0c1 \uc5f0\uc18d\ub418\ub294 \ubb38\uc790\uc640 \uc22b\uc790\ub294 \ube44\ubc00\ubc88\ud638\ub85c \uc0ac\uc6a9\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. ex) aaaa, abcd, 1111, 1234");if(se&&!i.kW.test(se))return void U("mbrsPwd",{message:"\ube44\ubc00\ubc88\ud638\ub294 10\uc790 \uc774\uc0c1 \uc601\ubb38\uc790, \uc22b\uc790, \ud2b9\uc218\ubb38\uc790\ub97c \uc870\ud569\ud574\uc57c \ud569\ub2c8\ub2e4"});if(me&&se!==me)return void U("mbrsPwdRe",{message:"\ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4"});e.mbrsSno=Number(T.pathname.match(/\d+$/)),e.mailAddr=E,e.athtSno=N,e.mbrsPwdChange=me,e.useYn="\uc0ac\uc6a9"===t?"Y":"N",delete e.mbrsId,delete e.mbrsPwd,delete e.mbrsPwdRe,n.A.put(`/adm/manager/${T.pathname.match(/\d+$/)}`,e).then((e=>{200===e.status&&(q("/manager/user"),toast.success("\uc0ac\uc6a9\uc790\uac00 \uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4"))})).catch((function(e){console.log(e)}))}catch(e){console.error("Submit Error:",e)}}))))},a.createElement("div",{className:"overflow-hidden mb-[16px] border border-tg-100 rounded-[10px]"},a.createElement("table",{className:"border-collapse border-hidden table-fixed"},a.createElement("colgroup",null,a.createElement("col",{width:"195"}),a.createElement("col",{width:"757"})),a.createElement("tbody",null,a.createElement("tr",null,a.createElement("th",{className:"px-[24px] pt-[9px] pb-[7px] border-b border-r border-tg-100 bg-tg-10 text-20 font-bold text-left"},"\uc544\uc774\ub514"),a.createElement("td",{className:"px-[12px] border-b border-tg-100"},M("mbrsId"))),a.createElement("tr",null,a.createElement("th",{className:"px-[24px] pt-[9px] pb-[7px] border-b border-r border-tg-100 bg-tg-10 text-20 font-bold text-left"},"\uad00\ub9ac\uc790\uba85",F&&"*"),a.createElement("td",{className:"px-[12px] border-b border-tg-100"},F?a.createElement("div",{className:"w-[285px]"},a.createElement(o.A,y({type:"text",size:"sm",isError:te.mbrsName},K("mbrsName",{required:!0})))):M("mbrsName"))),F?a.createElement(a.Fragment,null,V?a.createElement(a.Fragment,null,a.createElement("tr",null,a.createElement("th",{className:"px-[24px] pt-[9px] pb-[7px] border-b border-r border-tg-100 bg-tg-10 text-20 font-bold text-left"},"\ube44\ubc00\ubc88\ud638"),a.createElement("td",{className:"px-[12px] border-b border-tg-100"},a.createElement("div",{className:"w-[285px] pt-[8px]"},a.createElement(o.A,y({type:"password",size:"sm",placeholder:"\ube44\ubc00\ubc88\ud638 \uc7ac\uc785\ub825(10\uc790\ub9ac, \uc22b\uc790, \ud2b9\uc218\ubb38\uc790 \ud3ec\ud568)"},K("mbrsPwd")))),te.mbrsPwd&&a.createElement("span",{className:"text-body4 text-color-alert"},te.mbrsPwd.message))),a.createElement("tr",null,a.createElement("th",{className:"px-[24px] pt-[9px] pb-[7px] border-b border-r border-tg-100 bg-tg-10 text-20 font-bold text-left"},"\ube44\ubc00\ubc88\ud638 \uc7ac\uc785\ub825*"),a.createElement("td",{className:"px-[12px] border-b border-tg-100"},a.createElement("div",{className:"w-[285px]"},a.createElement(o.A,y({type:"password",size:"sm",placeholder:"\ud55c\ubc88 \ub354 \uc785\ub825\ud574\uc8fc\uc138\uc694"},K("mbrsPwdRe")))),te.mbrsPwdRe&&a.createElement("span",{className:"text-body4 text-color-alert"},te.mbrsPwdRe.message)))):a.createElement("tr",null,a.createElement("th",{className:"px-[24px] pt-[9px] pb-[7px] border-b border-r border-tg-100 bg-tg-10 text-20 font-bold text-left"},"\ube44\ubc00\ubc88\ud638"),a.createElement("td",{className:"px-[12px] border-b border-tg-100"},a.createElement("div",{className:"flex items-center gap-[10px]"},a.createElement("div",{className:"w-[285px] h-[28px] rounded-[4px] border border-tg-80 bg-tg-10 px-[10px] leading-7"},(0,x.yE)("tmoney2024")),a.createElement(m.A,{type:"button",size:"md",color:"secondary",onClick:()=>_(!V)},"\ubcc0\uacbd\ud558\uae30"))))):a.createElement("tr",null,a.createElement("th",{className:"px-[24px] pt-[9px] pb-[7px] border-b border-r border-tg-100 bg-tg-10 text-20 font-bold text-left"},"\ube44\ubc00\ubc88\ud638"),a.createElement("td",{className:"px-[12px] border-b border-tg-100"},(0,x.yE)("tmoney2024"))),a.createElement("tr",null,a.createElement("th",{className:"px-[24px] pt-[9px] pb-[7px] border-b border-r border-tg-100 bg-tg-10 text-20 font-bold text-left"},"\uc774\uba54\uc77c",F&&"*"),a.createElement("td",{className:"px-[12px] border-b border-tg-100"},F?a.createElement("div",{className:"w-[440px]"},a.createElement(c.A,{initialEmail:ne,onChange:e=>g(e)})):ne)),a.createElement("tr",null,a.createElement("th",{className:"px-[24px] pt-[9px] pb-[7px] border-b border-r border-tg-100 bg-tg-10 text-20 font-bold text-left"},"\ud734\ub300\ud3f0\ubc88\ud638",F&&"*"),a.createElement("td",{className:"px-[12px] border-b border-tg-100"},F?a.createElement("div",{className:"flex items-center gap-[10px]"},a.createElement("div",{className:"w-[285px]"},a.createElement(o.A,y({type:"text",size:"sm",isError:te.mblNo},K("mblNo",{required:!0,minLength:{value:11,message:"\uc22b\uc790 11\uc790\ub9ac\ub97c \uc785\ub825\ud574 \uc8fc\uc138\uc694"}})))),a.createElement("span",{className:"text-caption"},"\uc22b\uc790 11\uc790\ub9ac\ub9cc \uc785\ub825 \uac00\ub2a5")):(0,x.mP)(M("mblNo")))),a.createElement("tr",null,a.createElement("th",{className:"px-[24px] pt-[9px] pb-[7px] border-b border-r border-tg-100 bg-tg-10 text-20 font-bold text-left"},"\ubd80\uc11c"),a.createElement("td",{className:"px-[12px] border-b border-tg-100"},F?a.createElement("div",{className:"w-[285px]"},a.createElement(o.A,y({type:"text",size:"sm"},K("dprtNm")))):M("dprtNm"))),a.createElement("tr",null,a.createElement("th",{className:"px-[24px] pt-[9px] pb-[7px] border-b border-r border-tg-100 bg-tg-10 text-20 font-bold text-left"},"\uc9c1\uae09"),a.createElement("td",{className:"px-[12px] border-b border-tg-100"},F?a.createElement("div",{className:"w-[285px]"},a.createElement(o.A,y({type:"text",size:"sm"},K("pstnNm")))):M("pstnNm"))),a.createElement("tr",null,a.createElement("th",{className:"px-[24px] pt-[9px] pb-[7px] border-b border-r border-tg-100 bg-tg-10 text-20 font-bold text-left"},"\uc0ac\uc6a9\uc5ec\ubd80",F&&"*"),a.createElement("td",{className:"px-[12px] border-b border-tg-100"},F?a.createElement("div",{className:"flex gap-[30px]"},e.map((e=>a.createElement(d.A,{key:`use-${e}`,id:e,name:"use",label:e,current:t,onChange:e=>r(e.target.id)})))):"Y"===M("useYn")?"\uc0ac\uc6a9":"\ubbf8\uc0ac\uc6a9")),a.createElement("tr",null,a.createElement("th",{className:"px-[24px] pt-[9px] pb-[7px] border-b border-r border-tg-100 bg-tg-10 text-20 font-bold text-left"},"\uad8c\ud55c\uad6c\ubd84"),a.createElement("td",{className:"px-[12px] border-b border-tg-100"},F?a.createElement("div",{className:"flex items-center gap-[10px]"},a.createElement("div",{className:"w-[220px]"},!J&&a.createElement(b.A,{options:[{accessor:"",value:"\uc120\ud0dd\ud574 \uc8fc\uc138\uc694"}],isReverse:!0,onChange:e=>console.log(e)}),J&&a.createElement(b.A,{options:oe(null==J?void 0:J.result.authorityList,N),isReverse:!0,onChange:e=>f(e)})),a.createElement("span",{className:"text-caption"},"\ubd80\uc5ec\ud560 \uad8c\ud55c\uc744 \uc120\ud0dd\ud574 \uc8fc\uc138\uc694")):a.createElement("div",{className:"flex justify-between items-center w-[220px] h-[28px] rounded-[4px] border border-tg-80 bg-tg-10 py-[3px] px-[10px] text-body4"},a.createElement("span",null,j),a.createElement("div",{className:"w-0 h-0 border-l-[5px] border-l-transparent border-r-[5px] border-r-transparent border-t-[5px] border-tg-140"}))))))),a.createElement("div",{className:"flex justify-between"},F?a.createElement(m.A,{type:"button",color:"secondary",onClick:()=>{Q("mbrsName",h),Q("mblNo",R),Q("mailAddr",A),Q("dprtNm",P),Q("pstnNm",k),L(!F),_(!V)}},"\ucde8\uc18c"):a.createElement(m.A,{type:"button",color:"secondary",onClick:()=>q("/manager/user")},"\ubaa9\ub85d"),F?a.createElement(a.Fragment,null,re||ae?a.createElement(m.A,{type:"submit"},"\uc800\uc7a5"):a.createElement(m.A,{type:"button",color:"secondary",disabled:!0},"\uc800\uc7a5")):a.createElement("div",{className:"flex gap-[15px]"},a.createElement(m.A,{type:"button",color:"secondary",onClick:()=>$(!O)},"\uc0ad\uc81c"),a.createElement(m.A,{type:"button",onClick:()=>L(!0)},"\uc218\uc815"))))),a.createElement(p.A,{isShow:O},a.createElement("div",{className:"flex flex-col items-center"},a.createElement("h3",{className:"font-Tmoney text-headline1 leading-10 mb-[30px]"},"\uad00\ub9ac\uc790 \uc0ad\uc81c \uc54c\ub9bc"),a.createElement("p",{className:"text-body1 leading-6 mb-[30px] text-center"},"\uac00\ub2a5\ud558\uba74 \uacc4\uc815 \uc0ac\uc6a9\uc5ec\ubd80\ub97c \ubcc0\uacbd\ud574\uc8fc\uc138\uc694 ",a.createElement("br",null),"\uad00\ub9ac\uc790 \uc0ad\uc81c \ud6c4\uc5d0\ub294 \ubcf5\uad6c\uac00 \ubd88\uac00\ud569\ub2c8\ub2e4 \uc815\ub9d0 ",a.createElement("br",null),"\uc0ad\uc81c\ud558\uc2dc\uaca0\uc5b4\uc694?"),a.createElement("div",{className:"flex justify-center gap-[15px]"},a.createElement(m.A,{size:"lg",color:"secondary",onClick:()=>$(!O)},"\ucde8\uc18c"),a.createElement(m.A,{size:"lg",onClick:()=>{D(Number(T.pathname.match(/\d+$/)))}},"\ud655\uc778")))))}}}]);